version = 4.2

//
// Saved by sw version: 2023.2
//

model "CHAdeMO-TyphoonHIL" {
    configuration {
        hil_device = "HIL606"
        hil_configuration_id = 2
        simulation_method = exact
        simulation_time_step = auto
        simulation_discret_scaling = 1.0
        dsp_timer_periods = 100e-6, 50e-3
        ss_calc_method = "systematic elimination"
        enb_pole_shift = True
        enb_gds_oversampling = True
        show_modes = False
        device_ao_limit_enable = False
        reset_analog_outputs_on_sim_stop = True
        reset_digital_outputs_on_sim_stop = True
        vhil_adio_loopback = False
        cpl_stb = False
        enb_dep_sw_detect = False
        code_section = "internal memory"
        data_section = "internal memory"
        sys_sp_rate_1 = 0.0001
        sys_sp_rate_2 = 0.05
        sys_real_type_precision = "default"
        user_real_type_precision = "default"
        sys_cpu_optimization = "high"
        user_cpu_optimization = "high"
        user_cpu_part_option = "default"
        matrix_based_reduction = True
        cpl_dynamics_analysis = False
        export_ss_to_pickle = False
        ground_scope_core = False
        dss_num_tol = 1e-15
        cce_platform = "generic"
        cce_use_relative_names = False
        cce_type_mapping_real = "double"
        cce_type_mapping_uint = "unsigned int"
        cce_type_mapping_int = "int"
        cce_directory = ""
        cce_custom_type_int = ""
        cce_custom_type_uint = ""
        cce_custom_type_real = ""
        tunable_params = "component defined"
        sp_compiler_type = "C++ compiler"
        sig_stim = "off"
        export_resource_list = ""
        export_dependency_list = ""
        excluded_resource_list = ""
        export_out_file = ""
        export_lock_top_level = True
        export_encrypt_library = True
        export_encrypt_resources = True
    }

    component Subsystem Root {
        component Subsystem Subsystem {
            layout = dynamic
            component "core/CAN Bus Receive" "EVSE PARAMS" {
                data_length = "6"
                execution_rate = "100e-3"
                file_label = "Import DBC file"
                file_path = "Import DBC file"
                identifier_type = "CAN 2.0 A (11 bit identifier)"
                identifier_value = "108"
                signals = "[{\'name\': \'EVSEweldCheck\', \'start_bit\': \'0\', \'length\': \'8\', \'byte_order\': \'Little Endian\', \'data_type\': \'uint\', \'mux_type\': \'None\', \'mux_val\': \'\', \'scale\': \'\', \'offset\': \'\', \'min\': \'\', \'max\': \'\', \'unit\': \'\', \'name_old\': \'EVSEweldCheck\', \'name_changed\': \'False\'}, {\'name\': \'EVSEavailVoltage\', \'start_bit\': \'8\', \'length\': \'16\', \'byte_order\': \'Little Endian\', \'data_type\': \'uint\', \'mux_type\': \'None\', \'mux_val\': \'\', \'scale\': \'\', \'offset\': \'\', \'min\': \'\', \'max\': \'\', \'unit\': \'V\', \'name_old\': \'EVSEavailVoltage\', \'name_changed\': \'False\'}, {\'name\': \'EVSEavailCurrent\', \'start_bit\': \'24\', \'length\': \'8\', \'byte_order\': \'Little Endian\', \'data_type\': \'uint\', \'mux_type\': \'None\', \'mux_val\': \'\', \'scale\': \'\', \'offset\': \'\', \'min\': \'\', \'max\': \'\', \'unit\': \'A\', \'name_old\': \'EVSEavailCurrent\', \'name_changed\': \'False\'}, {\'name\': \'EVSEthresholdVoltage\', \'start_bit\': \'32\', \'length\': \'16\', \'byte_order\': \'Little Endian\', \'data_type\': \'uint\', \'mux_type\': \'None\', \'mux_val\': \'\', \'scale\': \'\', \'offset\': \'\', \'min\': \'\', \'max\': \'\', \'unit\': \'V\', \'name_old\': \'EVSEthresholdVoltage\', \'name_changed\': \'False\'}]"
            }
            [
                position = 8504, 8072
                size = 160, 120
            ]

            component "core/CAN Bus Send" "EV - BATTERY SPECS" {
                data_length = "7"
                file_label = "Import DBC file"
                file_path = "Import DBC file"
                identifier_type = "CAN 2.0 A (11 bit identifier)"
                signals = "[{\'name\': \'EVmaxChargeVoltage\', \'start_bit\': \'32\', \'length\': \'16\', \'byte_order\': \'Little Endian\', \'data_type\': \'uint\', \'mux_type\': \'None\', \'mux_val\': \'\', \'scale\': \'\', \'offset\': \'\', \'min\': \'\', \'max\': \'\', \'unit\': \'V\', \'name_old\': \'EVmaxChargeVoltage\', \'name_changed\': \'False\'}, {\'name\': \'EVpackSizeKWH\', \'start_bit\': \'48\', \'length\': \'8\', \'byte_order\': \'Little Endian\', \'data_type\': \'uint\', \'mux_type\': \'None\', \'mux_val\': \'\', \'scale\': \'\', \'offset\': \'\', \'min\': \'\', \'max\': \'\', \'unit\': \'%\', \'name_old\': \'EVpackSizeKWH\', \'name_changed\': \'False\'}]"
                transmit_period = "100.0"
                transmit_type = "{\'On event\': True, \'On timer\': False, \'On request\': False}"
            }
            [
                position = 8192, 7848
                size = 160, 120
            ]

            component "core/CAN Setup" "CAN Setup1" {
                can1_cd = "1"
                can1_er = "1e-3"
                can1_ts1 = "1"
                can1_ts2 = "1"
                can2_cd = "1"
                can2_er = "1e-3"
                can2_ts1 = "1"
                can2_ts2 = "1"
                hil_device_id_combo_values = "[\'0\']"
                saved_hil_device_config = "{\'0\': {\'CAN1\': {\'method\': \'Automatic\', \'er\': \'1e-3\', \'baud\': \'50000\', \'cd\': \'1\', \'ts1\': \'1\', \'ts2\': \'1\', \'sjw\': \'1\', \'cd_calc\': \'1\', \'ts1_calc\': \'1\', \'ts2_calc\': \'1\', \'sjw_calc\': \'1\'}, \'CAN2\': {\'method\': \'Automatic\', \'er\': \'1e-3\', \'baud\': \'50000\', \'cd\': \'1\', \'ts1\': \'1\', \'ts2\': \'1\', \'sjw\': \'1\', \'cd_calc\': \'1\', \'ts1_calc\': \'1\', \'ts2_calc\': \'1\', \'sjw_calc\': \'1\'}, \'send_num\': 0, \'send_buff_len\': 0, \'receive_num\': 0, \'receive_buff_len\': 0}, \'1\': {\'CAN1\': {\'method\': \'Automatic\', \'er\': \'10e-3\', \'baud\': \'50000\', \'cd\': \'1\', \'ts1\': \'1\', \'ts2\': \'1\', \'sjw\': \'1\', \'cd_calc\': \'1\', \'ts1_calc\': \'1\', \'ts2_calc\': \'1\', \'sjw_calc\': \'1\'}, \'CAN2\': {\'method\': \'Automatic\', \'er\': \'10e-3\', \'baud\': \'50000\', \'cd\': \'1\', \'ts1\': \'1\', \'ts2\': \'1\', \'sjw\': \'1\', \'cd_calc\': \'1\', \'ts1_calc\': \'1\', \'ts2_calc\': \'1\', \'sjw_calc\': \'1\'}, \'send_num\': 0, \'send_buff_len\': 0, \'receive_num\': 0, \'receive_buff_len\': 0}, \'2\': {\'CAN1\': {\'method\': \'Automatic\', \'er\': \'10e-3\', \'baud\': \'50000\', \'cd\': \'1\', \'ts1\': \'1\', \'ts2\': \'1\', \'sjw\': \'1\', \'cd_calc\': \'1\', \'ts1_calc\': \'1\', \'ts2_calc\': \'1\', \'sjw_calc\': \'1\'}, \'CAN2\': {\'method\': \'Automatic\', \'er\': \'10e-3\', \'baud\': \'50000\', \'cd\': \'1\', \'ts1\': \'1\', \'ts2\': \'1\', \'sjw\': \'1\', \'cd_calc\': \'1\', \'ts1_calc\': \'1\', \'ts2_calc\': \'1\', \'sjw_calc\': \'1\'}, \'send_num\': 0, \'send_buff_len\': 0, \'receive_num\': 0, \'receive_buff_len\': 0}, \'3\': {\'CAN1\': {\'method\': \'Automatic\', \'er\': \'10e-3\', \'baud\': \'50000\', \'cd\': \'1\', \'ts1\': \'1\', \'ts2\': \'1\', \'sjw\': \'1\', \'cd_calc\': \'1\', \'ts1_calc\': \'1\', \'ts2_calc\': \'1\', \'sjw_calc\': \'1\'}, \'CAN2\': {\'method\': \'Automatic\', \'er\': \'10e-3\', \'baud\': \'50000\', \'cd\': \'1\', \'ts1\': \'1\', \'ts2\': \'1\', \'sjw\': \'1\', \'cd_calc\': \'1\', \'ts1_calc\': \'1\', \'ts2_calc\': \'1\', \'sjw_calc\': \'1\'}, \'send_num\': 0, \'send_buff_len\': 0, \'receive_num\': 0, \'receive_buff_len\': 0}, \'4\': {\'CAN1\': {\'method\': \'Automatic\', \'er\': \'10e-3\', \'baud\': \'50000\', \'cd\': \'1\', \'ts1\': \'1\', \'ts2\': \'1\', \'sjw\': \'1\', \'cd_calc\': \'1\', \'ts1_calc\': \'1\', \'ts2_calc\': \'1\', \'sjw_calc\': \'1\'}, \'CAN2\': {\'method\': \'Automatic\', \'er\': \'10e-3\', \'baud\': \'50000\', \'cd\': \'1\', \'ts1\': \'1\', \'ts2\': \'1\', \'sjw\': \'1\', \'cd_calc\': \'1\', \'ts1_calc\': \'1\', \'ts2_calc\': \'1\', \'sjw_calc\': \'1\'}, \'send_num\': 0, \'send_buff_len\': 0, \'receive_num\': 0, \'receive_buff_len\': 0}, \'5\': {\'CAN1\': {\'method\': \'Automatic\', \'er\': \'10e-3\', \'baud\': \'50000\', \'cd\': \'1\', \'ts1\': \'1\', \'ts2\': \'1\', \'sjw\': \'1\', \'cd_calc\': \'1\', \'ts1_calc\': \'1\', \'ts2_calc\': \'1\', \'sjw_calc\': \'1\'}, \'CAN2\': {\'method\': \'Automatic\', \'er\': \'10e-3\', \'baud\': \'50000\', \'cd\': \'1\', \'ts1\': \'1\', \'ts2\': \'1\', \'sjw\': \'1\', \'cd_calc\': \'1\', \'ts1_calc\': \'1\', \'ts2_calc\': \'1\', \'sjw_calc\': \'1\'}, \'send_num\': 0, \'send_buff_len\': 0, \'receive_num\': 0, \'receive_buff_len\': 0}, \'6\': {\'CAN1\': {\'method\': \'Automatic\', \'er\': \'10e-3\', \'baud\': \'50000\', \'cd\': \'1\', \'ts1\': \'1\', \'ts2\': \'1\', \'sjw\': \'1\', \'cd_calc\': \'1\', \'ts1_calc\': \'1\', \'ts2_calc\': \'1\', \'sjw_calc\': \'1\'}, \'CAN2\': {\'method\': \'Automatic\', \'er\': \'10e-3\', \'baud\': \'50000\', \'cd\': \'1\', \'ts1\': \'1\', \'ts2\': \'1\', \'sjw\': \'1\', \'cd_calc\': \'1\', \'ts1_calc\': \'1\', \'ts2_calc\': \'1\', \'sjw_calc\': \'1\'}, \'send_num\': 0, \'send_buff_len\': 0, \'receive_num\': 0, \'receive_buff_len\': 0}, \'7\': {\'CAN1\': {\'method\': \'Automatic\', \'er\': \'10e-3\', \'baud\': \'50000\', \'cd\': \'1\', \'ts1\': \'1\', \'ts2\': \'1\', \'sjw\': \'1\', \'cd_calc\': \'1\', \'ts1_calc\': \'1\', \'ts2_calc\': \'1\', \'sjw_calc\': \'1\'}, \'CAN2\': {\'method\': \'Automatic\', \'er\': \'10e-3\', \'baud\': \'50000\', \'cd\': \'1\', \'ts1\': \'1\', \'ts2\': \'1\', \'sjw\': \'1\', \'cd_calc\': \'1\', \'ts1_calc\': \'1\', \'ts2_calc\': \'1\', \'sjw_calc\': \'1\'}, \'send_num\': 0, \'send_buff_len\': 0, \'receive_num\': 0, \'receive_buff_len\': 0}, \'8\': {\'CAN1\': {\'method\': \'Automatic\', \'er\': \'10e-3\', \'baud\': \'50000\', \'cd\': \'1\', \'ts1\': \'1\', \'ts2\': \'1\', \'sjw\': \'1\', \'cd_calc\': \'1\', \'ts1_calc\': \'1\', \'ts2_calc\': \'1\', \'sjw_calc\': \'1\'}, \'CAN2\': {\'method\': \'Automatic\', \'er\': \'10e-3\', \'baud\': \'50000\', \'cd\': \'1\', \'ts1\': \'1\', \'ts2\': \'1\', \'sjw\': \'1\', \'cd_calc\': \'1\', \'ts1_calc\': \'1\', \'ts2_calc\': \'1\', \'sjw_calc\': \'1\'}, \'send_num\': 0, \'send_buff_len\': 0, \'receive_num\': 0, \'receive_buff_len\': 0}, \'9\': {\'CAN1\': {\'method\': \'Automatic\', \'er\': \'10e-3\', \'baud\': \'50000\', \'cd\': \'1\', \'ts1\': \'1\', \'ts2\': \'1\', \'sjw\': \'1\', \'cd_calc\': \'1\', \'ts1_calc\': \'1\', \'ts2_calc\': \'1\', \'sjw_calc\': \'1\'}, \'CAN2\': {\'method\': \'Automatic\', \'er\': \'10e-3\', \'baud\': \'50000\', \'cd\': \'1\', \'ts1\': \'1\', \'ts2\': \'1\', \'sjw\': \'1\', \'cd_calc\': \'1\', \'ts1_calc\': \'1\', \'ts2_calc\': \'1\', \'sjw_calc\': \'1\'}, \'send_num\': 0, \'send_buff_len\': 0, \'receive_num\': 0, \'receive_buff_len\': 0}, \'10\': {\'CAN1\': {\'method\': \'Automatic\', \'er\': \'10e-3\', \'baud\': \'50000\', \'cd\': \'1\', \'ts1\': \'1\', \'ts2\': \'1\', \'sjw\': \'1\', \'cd_calc\': \'1\', \'ts1_calc\': \'1\', \'ts2_calc\': \'1\', \'sjw_calc\': \'1\'}, \'CAN2\': {\'method\': \'Automatic\', \'er\': \'10e-3\', \'baud\': \'50000\', \'cd\': \'1\', \'ts1\': \'1\', \'ts2\': \'1\', \'sjw\': \'1\', \'cd_calc\': \'1\', \'ts1_calc\': \'1\', \'ts2_calc\': \'1\', \'sjw_calc\': \'1\'}, \'send_num\': 0, \'send_buff_len\': 0, \'receive_num\': 0, \'receive_buff_len\': 0}, \'11\': {\'CAN1\': {\'method\': \'Automatic\', \'er\': \'10e-3\', \'baud\': \'50000\', \'cd\': \'1\', \'ts1\': \'1\', \'ts2\': \'1\', \'sjw\': \'1\', \'cd_calc\': \'1\', \'ts1_calc\': \'1\', \'ts2_calc\': \'1\', \'sjw_calc\': \'1\'}, \'CAN2\': {\'method\': \'Automatic\', \'er\': \'10e-3\', \'baud\': \'50000\', \'cd\': \'1\', \'ts1\': \'1\', \'ts2\': \'1\', \'sjw\': \'1\', \'cd_calc\': \'1\', \'ts1_calc\': \'1\', \'ts2_calc\': \'1\', \'sjw_calc\': \'1\'}, \'send_num\': 0, \'send_buff_len\': 0, \'receive_num\': 0, \'receive_buff_len\': 0}, \'12\': {\'CAN1\': {\'method\': \'Automatic\', \'er\': \'10e-3\', \'baud\': \'50000\', \'cd\': \'1\', \'ts1\': \'1\', \'ts2\': \'1\', \'sjw\': \'1\', \'cd_calc\': \'1\', \'ts1_calc\': \'1\', \'ts2_calc\': \'1\', \'sjw_calc\': \'1\'}, \'CAN2\': {\'method\': \'Automatic\', \'er\': \'10e-3\', \'baud\': \'50000\', \'cd\': \'1\', \'ts1\': \'1\', \'ts2\': \'1\', \'sjw\': \'1\', \'cd_calc\': \'1\', \'ts1_calc\': \'1\', \'ts2_calc\': \'1\', \'sjw_calc\': \'1\'}, \'send_num\': 0, \'send_buff_len\': 0, \'receive_num\': 0, \'receive_buff_len\': 0}, \'13\': {\'CAN1\': {\'method\': \'Automatic\', \'er\': \'10e-3\', \'baud\': \'50000\', \'cd\': \'1\', \'ts1\': \'1\', \'ts2\': \'1\', \'sjw\': \'1\', \'cd_calc\': \'1\', \'ts1_calc\': \'1\', \'ts2_calc\': \'1\', \'sjw_calc\': \'1\'}, \'CAN2\': {\'method\': \'Automatic\', \'er\': \'10e-3\', \'baud\': \'50000\', \'cd\': \'1\', \'ts1\': \'1\', \'ts2\': \'1\', \'sjw\': \'1\', \'cd_calc\': \'1\', \'ts1_calc\': \'1\', \'ts2_calc\': \'1\', \'sjw_calc\': \'1\'}, \'send_num\': 0, \'send_buff_len\': 0, \'receive_num\': 0, \'receive_buff_len\': 0}, \'14\': {\'CAN1\': {\'method\': \'Automatic\', \'er\': \'10e-3\', \'baud\': \'50000\', \'cd\': \'1\', \'ts1\': \'1\', \'ts2\': \'1\', \'sjw\': \'1\', \'cd_calc\': \'1\', \'ts1_calc\': \'1\', \'ts2_calc\': \'1\', \'sjw_calc\': \'1\'}, \'CAN2\': {\'method\': \'Automatic\', \'er\': \'10e-3\', \'baud\': \'50000\', \'cd\': \'1\', \'ts1\': \'1\', \'ts2\': \'1\', \'sjw\': \'1\', \'cd_calc\': \'1\', \'ts1_calc\': \'1\', \'ts2_calc\': \'1\', \'sjw_calc\': \'1\'}, \'send_num\': 0, \'send_buff_len\': 0, \'receive_num\': 0, \'receive_buff_len\': 0}, \'15\': {\'CAN1\': {\'method\': \'Automatic\', \'er\': \'10e-3\', \'baud\': \'50000\', \'cd\': \'1\', \'ts1\': \'1\', \'ts2\': \'1\', \'sjw\': \'1\', \'cd_calc\': \'1\', \'ts1_calc\': \'1\', \'ts2_calc\': \'1\', \'sjw_calc\': \'1\'}, \'CAN2\': {\'method\': \'Automatic\', \'er\': \'10e-3\', \'baud\': \'50000\', \'cd\': \'1\', \'ts1\': \'1\', \'ts2\': \'1\', \'sjw\': \'1\', \'cd_calc\': \'1\', \'ts1_calc\': \'1\', \'ts2_calc\': \'1\', \'sjw_calc\': \'1\'}, \'send_num\': 0, \'send_buff_len\': 0, \'receive_num\': 0, \'receive_buff_len\': 0}}"
            }
            [
                position = 8352, 7848
            ]

            component "core/CAN Bus Receive" "EVSE STATUS" {
                data_length = "8"
                execution_rate = "100e-3"
                file_label = "Import DBC file"
                file_path = "Import DBC file"
                identifier_type = "CAN 2.0 A (11 bit identifier)"
                identifier_value = "109"
                signals = "[{\'name\': \'EVSEbChademo10Protocol\', \'start_bit\': \'0\', \'length\': \'8\', \'byte_order\': \'Little Endian\', \'data_type\': \'uint\', \'mux_type\': \'None\', \'mux_val\': \'\', \'scale\': \'\', \'offset\': \'\', \'min\': \'\', \'max\': \'\', \'unit\': \'\', \'name_old\': \'EVSEbChademo10Protocol\', \'name_changed\': \'False\'}, {\'name\': \'EVSEpresentVoltage\', \'start_bit\': \'8\', \'length\': \'16\', \'byte_order\': \'Little Endian\', \'data_type\': \'uint\', \'mux_type\': \'None\', \'mux_val\': \'\', \'scale\': \'\', \'offset\': \'\', \'min\': \'\', \'max\': \'\', \'unit\': \'V\', \'name_old\': \'EVSEpresentVoltage\', \'name_changed\': \'False\'}, {\'name\': \'EVSEpresentCurrent\', \'start_bit\': \'24\', \'length\': \'8\', \'byte_order\': \'Little Endian\', \'data_type\': \'uint\', \'mux_type\': \'None\', \'mux_val\': \'\', \'scale\': \'\', \'offset\': \'\', \'min\': \'\', \'max\': \'\', \'unit\': \'A\', \'name_old\': \'EVSEpresentCurrent\', \'name_changed\': \'False\'}, {\'name\': \'EVSEstatus\', \'start_bit\': \'40\', \'length\': \'8\', \'byte_order\': \'Little Endian\', \'data_type\': \'uint\', \'mux_type\': \'None\', \'mux_val\': \'\', \'scale\': \'\', \'offset\': \'\', \'min\': \'\', \'max\': \'\', \'unit\': \'\', \'name_old\': \'EVSEstatus\', \'name_changed\': \'False\'}, {\'name\': \'EVSEremainingChargeSeconds\', \'start_bit\': \'48\', \'length\': \'8\', \'byte_order\': \'Little Endian\', \'data_type\': \'uint\', \'mux_type\': \'None\', \'mux_val\': \'\', \'scale\': \'\', \'offset\': \'\', \'min\': \'\', \'max\': \'\', \'unit\': \'s\', \'name_old\': \'EVSEremainingChargeSeconds\', \'name_changed\': \'False\'}, {\'name\': \'EVSEremaningChargeMinutes\', \'start_bit\': \'56\', \'length\': \'8\', \'byte_order\': \'Little Endian\', \'data_type\': \'uint\', \'mux_type\': \'None\', \'mux_val\': \'\', \'scale\': \'\', \'offset\': \'\', \'min\': \'\', \'max\': \'\', \'unit\': \'min\', \'name_old\': \'\', \'name_changed\': \'True\'}]"
            }
            [
                position = 8504, 8336
                size = 160, 120
            ]

            component "core/CAN Bus Send" "CHARGING TIME" {
                data_length = "8"
                file_label = "Import DBC file"
                file_path = "Import DBC file"
                identifier_type = "CAN 2.0 A (11 bit identifier)"
                identifier_value = "101"
                signals = "[{\'name\': \'EVhowLongCharge\', \'start_bit\': \'16\', \'length\': \'8\', \'byte_order\': \'Little Endian\', \'data_type\': \'uint\', \'mux_type\': \'None\', \'mux_val\': \'\', \'scale\': \'\', \'offset\': \'\', \'min\': \'\', \'max\': \'\', \'unit\': \'min\', \'name_old\': \'EVhowLongCharge\', \'name_changed\': \'False\'}, {\'name\': \'EVhowLongWeThink\', \'start_bit\': \'32\', \'length\': \'8\', \'byte_order\': \'Little Endian\', \'data_type\': \'uint\', \'mux_type\': \'None\', \'mux_val\': \'\', \'scale\': \'\', \'offset\': \'\', \'min\': \'\', \'max\': \'\', \'unit\': \'min\', \'name_old\': \'EVhowLongWeThink\', \'name_changed\': \'False\'}]"
                transmit_period = "100.0"
                transmit_type = "{\'On event\': True, \'On timer\': False, \'On request\': False}"
            }
            [
                position = 8192, 8112
                size = 160, 120
            ]

            component "core/CAN Bus Send" "EV STATUS" {
                data_length = "8"
                file_label = "Import DBC file"
                file_path = "Import DBC file"
                identifier_type = "CAN 2.0 A (11 bit identifier)"
                identifier_value = "102"
                signals = "[{\'name\': \'EVtalkingProtocol\', \'start_bit\': \'0\', \'length\': \'8\', \'byte_order\': \'Little Endian\', \'data_type\': \'uint\', \'mux_type\': \'None\', \'mux_val\': \'\', \'scale\': \'\', \'offset\': \'\', \'min\': \'\', \'max\': \'\', \'unit\': \'\', \'name_old\': \'EVtalking09protocol\', \'name_changed\': \'True\'}, {\'name\': \'EVtargetVoltage\', \'start_bit\': \'8\', \'length\': \'16\', \'byte_order\': \'Little Endian\', \'data_type\': \'uint\', \'mux_type\': \'None\', \'mux_val\': \'\', \'scale\': \'\', \'offset\': \'\', \'min\': \'\', \'max\': \'\', \'unit\': \'V\', \'name_old\': \'EVtargetVoltage\', \'name_changed\': \'False\'}, {\'name\': \'EVaskingAmps\', \'start_bit\': \'24\', \'length\': \'8\', \'byte_order\': \'Little Endian\', \'data_type\': \'uint\', \'mux_type\': \'None\', \'mux_val\': \'\', \'scale\': \'\', \'offset\': \'\', \'min\': \'\', \'max\': \'\', \'unit\': \'A\', \'name_old\': \'EVaskingAmps\', \'name_changed\': \'False\'}, {\'name\': \'EVfaults\', \'start_bit\': \'32\', \'length\': \'5\', \'byte_order\': \'Little Endian\', \'data_type\': \'uint\', \'mux_type\': \'None\', \'mux_val\': \'\', \'scale\': \'\', \'offset\': \'\', \'min\': \'\', \'max\': \'\', \'unit\': \'\', \'name_old\': \'EVfaults\', \'name_changed\': \'False\'}, {\'name\': \'EVstatus\', \'start_bit\': \'40\', \'length\': \'5\', \'byte_order\': \'Little Endian\', \'data_type\': \'uint\', \'mux_type\': \'None\', \'mux_val\': \'\', \'scale\': \'\', \'offset\': \'\', \'min\': \'\', \'max\': \'\', \'unit\': \'\', \'name_old\': \'EVstatus\', \'name_changed\': \'False\'}, {\'name\': \'EVkiloWattHours\', \'start_bit\': \'48\', \'length\': \'8\', \'byte_order\': \'Little Endian\', \'data_type\': \'uint\', \'mux_type\': \'None\', \'mux_val\': \'\', \'scale\': \'\', \'offset\': \'\', \'min\': \'\', \'max\': \'\', \'unit\': \'%\', \'name_old\': \'EVkiloWattHours\', \'name_changed\': \'False\'}]"
                transmit_period = "100.0"
                transmit_type = "{\'On event\': True, \'On timer\': False, \'On request\': False}"
            }
            [
                position = 8192, 8384
                size = 160, 120
            ]

            component "core/Advanced C function" "Advanced C function2" {
                add_src_path = "chademo.cpp;chademo.h;globals.h"
                add_src_path_full = "C:\Users\Teodora Mijovic\Desktop\CHAdeMO\chademo.cpp;C:\Users\Teodora Mijovic\Desktop\CHAdeMO\chademo.h;C:\Users\Teodora Mijovic\Desktop\CHAdeMO\globals.h"
                arb_defs = "/*Begin code section*/

/*End code section*/"
                execution_rate = "100e-6"
                global_variables = "real Count;real PreviousMillis;real Interval;real Time;real CurrentSecs;uint debugTick;real receiveMillis;real auxReceiveParams;real auxReceiveStatus;uint receiveID;real varTargetCurrent;"
                init_fnc = "/*Begin code section*/
receiveMillis = 0;
auxReceiveParams = 0;
auxReceiveStatus = 0;
receiveID = 0;

ERRORdoP = 0;
errorDoProcessing = 0;
ERRORhandle = 0;
errorHandle = 0;

CHADEMO();

chademo.evse_params.availVoltage = 0;
chademo.evse_params.availCurrent = 0;
chademo.evse_params.thresholdVoltage = 0;
chademo.bChademo10Protocol = 0;
chademo.evse_status.presentVoltage = 0;
chademo.evse_status.presentCurrent = 0;
chademo.evse_status.status = 0; 
chademo.evse_status.remainingChargeSeconds = 0;
chademo.evse_status.remainingChargeMinutes = 0;

maxChargeVoltage = 0;
packSizeKWH = 0;

howLongCharge = 0;
howLongWeThink = 0;

talkingProtocol = 0;
targetVoltage = 0;
askingAmps = 0;
faults = 0;
status = 0;
kiloWattHours = 0;

settings.packSizeKWH = 33.0; //just a random guess. Maybe it should default to zero though?
settings.ampHours = 0.0;
settings.kiloWattHours = 0.0; // Is empty kiloWattHours count up
settings.maxChargeVoltage = 158;
settings.minChargeAmperage = 20;
settings.capacity = 180;
settings.debuggingLevel = 1;

settings.targetChargeVoltage = 160; //targetVoltage
settings.maxChargeAmperage = 130; //targetCurrent
chademo.updateTargetAV();

Count = 0;
PreviousMillis = 0;
Interval = 10;
Time = 0;
debugTick = 0;

Voltage = 0;
Current  = 0;
//Power = 0;

in1 = 1;
in2 = 0;

out1= 0;
out2 = 0;
out3 = 0;
/*End code section*/"
                input_terminals = "inherit currentMillis;inherit receiveParams;inherit receiveStatus;inherit weldCheck;inherit availVoltage;inherit availCurrent;inherit thresholdVoltage;inherit bChademo10Protocol;uint presentVoltage;inherit presentCurrent;inherit evseStatus;uint remainingChargeSeconds;inherit currentSeconds;inherit bChademoRequest;inherit SIvoltage;inherit SIcurrent;inherit SIkwh;inherit remainingChargeMinutes;"
                input_terminals_dimensions = "inherit;inherit;inherit;inherit;inherit;inherit;inherit;inherit;inherit;inherit;inherit;inherit;inherit;inherit;inherit;inherit;inherit;inherit"
                input_terminals_feedthrough = "True;True;True;True;True;True;True;True;True;True;True;True;True;True;True;True;True;True"
                input_terminals_show_labels = "False;False;False;False;False;False;False;False;False;False;False;False;False;False;False;False;False;False"
                output_fnc = "/*Begin code section*/
chademo.bChademoRequest = bChademoRequest;
CurrentSeconds = currentSeconds;

ERRORdoP = errorDoProcessing;
ERRORhandle = errorHandle;

chademoState = chademo.chademoState;

bChademoMode = chademo.bChademoMode;
bChademoRequestOutput = chademo.bChademoRequest;
bChademoSendRequestsOutput = chademo.bChademoSendRequests;

out1111 = out1;
out2222 = out2;
out3333 = out3;

chademo.CurrentMillis = currentMillis;  

if (debugTick == 1) 
{
    debugTick = 0;
}

chademo.loop(currentMillis);
insertionTime = chademo.insertionTime;

if (chademo.sendBatt == 1) 
{
    chademo.sendBatt = 0;
    sendBatt = 1;
    maxChargeVoltage = settings.maxChargeVoltage;
    packSizeKWH = settings.packSizeKWH;
}
else sendBatt = 0;
      
if (chademo.sendStatus == 1)
{
    chademo.sendStatus = 0;
    sendStatus = 1;
    
    if (bChademo10Protocol) talkingProtocol = 2;  //tell EVSE we are talking 1.0 protocol
    targetVoltage = chademo.carStatus.targetVoltage;
    askingAmps = chademo.askingAmps;
    faults = chademo.faults;
    status = chademo.status;
    kiloWattHours = settings.kiloWattHours;
}
else sendStatus = 0;
    
if (chademo.sendTime == 1)  
{
    chademo.sendTime = 0;
    sendTime = 1;
    
    howLongCharge = 90;    //minutes
    howLongWeThink = 60;  //minutes
}
else sendTime = 0;

if (chademo.CurrentMillis - PreviousMillis >= Interval)
{ 
    Time = chademo.CurrentMillis - PreviousMillis;
    PreviousMillis = chademo.CurrentMillis;
    
    Count++;
    Voltage = SIvoltage;
    Current = SIcurrent;
    settings.kiloWattHours = SIkwh;
    
    chademo.doProcessing();
    
    if(Count >= 50)
    {
        Count = 0;
        
        if (!chademo.bChademoMode)
        {
            chademo.checkChargingState(); // looking for reset of charging.
        }
    }
}

if (currentMillis - 100 == receiveMillis)  //I\'m checking every 100ms if there is a received message
{
    receiveMillis = currentMillis;
    
    if(receiveParams > auxReceiveParams)
    {
        auxReceiveParams = receiveParams;
        receiveID = 0x108;
        
        chademo.evse_params.supportWeldCheck = weldCheck;
        chademo.evse_params.availVoltage =  (availVoltage & 0xFF) + 256*(availVoltage & 0xFF00);
        chademo.evse_params.availCurrent = availCurrent;
        chademo.evse_params.thresholdVoltage = (thresholdVoltage & 0xFF) + 256*(thresholdVoltage & 0xFF00);
        
        chademo.handleCANFrame(currentMillis, receiveID);
    }
    
    if (receiveStatus > auxReceiveStatus)
    {
        auxReceiveStatus = receiveStatus;
        receiveID = 0x109;
       
        if (bChademo10Protocol > 1) chademo.bChademo10Protocol = 1;
        chademo.evse_status.presentVoltage = (presentVoltage & 0xFF) + 256*(presentVoltage & 0xFF00); //?? evse_status.presentVoltage = frame.data.byte[1] + 256 * frame.data.byte[2];
        chademo.evse_status.presentCurrent = presentCurrent;
        chademo.evse_status.status = evseStatus;
        
        /*if (remainingChargeSeconds < 0xFF)
        {
            chademo.evse_status.remainingChargeSeconds = (remainingChargeSeconds & 0xFF) * 10;
        }
        else
        {
            chademo.evse_status.remainingChargeSeconds = (remainingChargeSeconds & 0xFF00) * 60;
        }*/
        
        chademo.evse_status.remainingChargeSeconds = remainingChargeSeconds * 10;
        chademo.evse_status.remainingChargeMinutes = remainingChargeMinutes * 60;
        //chademo.evse_status.remainingChargeMinutes = chademo.evse_status.remainingChargeSeconds * 6;

        chademo.handleCANFrame(currentMillis, receiveID);
    }
}
/*End code section*/"
                output_terminals = "inherit CurrentSeconds;uint sendBatt;uint sendStatus;uint sendTime;inherit maxChargeVoltage;inherit packSizeKWH;inherit howLongCharge;inherit howLongWeThink;inherit talkingProtocol;inherit targetVoltage;inherit askingAmps;inherit faults;inherit status;inherit kiloWattHours;inherit chademoState;inherit insertionTime;inherit bChademoMode;inherit bChademoRequestOutput;inherit out1111;inherit bChademoSendRequestsOutput;inherit out2222;inherit out3333;inherit ERRORdoP;inherit ERRORhandle;"
                output_terminals_dimensions = "inherit;inherit;inherit;inherit;inherit;inherit;inherit;inherit;inherit;inherit;inherit;inherit;inherit;inherit;inherit;inherit;inherit;inherit;inherit;inherit;inherit;inherit;inherit;inherit"
                output_terminals_feedthrough = "True;True;True;True;True;True;True;True;True;True;True;True;True;True;True;True;True;True;True;True;True;True;True;True"
                output_terminals_show_labels = "False;False;False;False;False;False;False;False;False;False;False;False;False;False;False;False;False;False;False;False;False;False;False;False"
            }
            [
                position = 7024, 8016
                hide_name = True
                size = 120, 400
            ]

            component "core/C function" "C function1" {
                execution_rate = "100e-6"
                global_variables = "uint currentMillis;uint currentSeconds;"
                init_fnc = "/*Begin code section*/
currentMillis = 0;
currentSeconds = 0;
rst = 1;

out_millis = 0;
out_seconds = 0;
/*End code section*/"
                input_terminals = "inherit in;"
                input_terminals_dimensions = "inherit"
                input_terminals_feedthrough = "True"
                input_terminals_show_labels = "False"
                output_fnc = "/*Begin code section*/
rst = 1;

if(in == 10) 
{
    currentMillis += 1;
    out_millis = currentMillis;
    
    if ((currentMillis % 1000) == 0 )
    { 
        currentSeconds += 1;
        out_seconds = currentSeconds;
    }
    rst = 0;
}
/*End code section*/"
                output_terminals = "uint out_millis;uint out_seconds;int rst;"
                output_terminals_dimensions = "inherit;inherit;inherit"
                output_terminals_feedthrough = "True;True;True"
                output_terminals_show_labels = "False;False;False"
            }
            [
                position = 8192, 8632
                hide_name = True
                size = 48, 64
            ]

            component "core/Counter" Counter1 {
                execution_rate = "100e-6"
                ext_reset = "falling"
            }
            [
                position = 8096, 8632
                size = 48, 48
            ]

            component "core/Unit Delay" "Unit Delay1" {
            }
            [
                position = 8136, 8728
                rotation = down
                hide_name = True
            ]

            component "core/Constant" Constant3 {
                signal_type = "uint"
            }
            [
                position = 7968, 8624
                hide_name = True
            ]

            component "core/Probe" CurrentSeconds {
            }
            [
                position = 7144, 7496
            ]

            component "core/Probe" currentSeconds {
            }
            [
                position = 8304, 8696
            ]

            component "core/Probe" chademoState {
            }
            [
                position = 7440, 8192
            ]

            component "core/Probe" howLongCharge {
            }
            [
                position = 7464, 7752
            ]

            component "core/Probe" howLongWeThink {
            }
            [
                position = 7464, 7816
            ]

            component "core/Probe" insertionTime {
            }
            [
                position = 7440, 8248
            ]

            component "core/Probe" bChademoMode {
            }
            [
                position = 7440, 8312
            ]

            component "core/Probe" bChademoRequest {
            }
            [
                position = 7440, 8376
            ]

            component "core/Probe" out1 {
            }
            [
                position = 7624, 8416
            ]

            component "core/Probe" counter {
            }
            [
                position = 8192, 8560
            ]

            component "core/Probe" bChademoSendRequests {
            }
            [
                position = 7440, 8440
            ]

            component "core/Probe" out2 {
            }
            [
                position = 7624, 8488
            ]

            component "core/Probe" out3 {
            }
            [
                position = 7624, 8552
            ]

            component "core/Probe" ERRORdoP {
            }
            [
                position = 7280, 8632
            ]

            component "core/Probe" ERRORhandle {
            }
            [
                position = 7280, 8696
            ]

            component "core/Probe" maxChargeVoltage {
            }
            [
                position = 7424, 7632
            ]

            component "core/Probe" packSizeKWH {
            }
            [
                position = 7424, 7688
            ]

            component "core/Probe" askingAmps {
            }
            [
                position = 7544, 7976
            ]

            component "core/Probe" faults {
            }
            [
                position = 7544, 8056
            ]

            component "core/Probe" talkingProtocol {
            }
            [
                position = 7544, 7864
            ]

            component "core/Probe" targetVoltage {
            }
            [
                position = 7544, 7920
            ]

            component "core/Probe" status {
            }
            [
                position = 7544, 8112
            ]

            component "core/Probe" kiloWattHours {
            }
            [
                position = 7544, 8168
            ]

            component "core/Probe" sendBatt {
            }
            [
                position = 7424, 7440
            ]

            component "core/Probe" sendStatus {
            }
            [
                position = 7424, 7496
            ]

            component "core/Probe" sendTime {
            }
            [
                position = 7424, 7552
            ]

            port SIreceiveParams {
                position = auto:auto
                kind = sp
                direction =  out
                sp_type {
                    default = auto
                    readonly = True
                }
            }
            [
                position = 5840, 7576
            ]

            port SIreceiveStatus {
                position = auto:auto
                kind = sp
                direction =  out
                sp_type {
                    default = auto
                    readonly = True
                }
            }
            [
                position = 5840, 7640
            ]

            port SIweldCheck {
                position = auto:auto
                kind = sp
                direction =  out
                sp_type {
                    default = auto
                    readonly = True
                }
            }
            [
                position = 5840, 7704
            ]

            port SIavailVoltage {
                position = auto:auto
                kind = sp
                direction =  out
                sp_type {
                    default = auto
                    readonly = True
                }
            }
            [
                position = 5840, 7768
            ]

            port SIavailCurrent {
                position = auto:auto
                kind = sp
                direction =  out
                sp_type {
                    default = auto
                    readonly = True
                }
            }
            [
                position = 5840, 7832
            ]

            port SIthresholdVoltage {
                position = auto:auto
                kind = sp
                direction =  out
                sp_type {
                    default = auto
                    readonly = True
                }
            }
            [
                position = 5840, 7896
            ]

            port SIbChademo10Protocol {
                position = auto:auto
                kind = sp
                direction =  out
                sp_type {
                    default = auto
                    readonly = True
                }
            }
            [
                position = 5840, 7960
            ]

            port SIpresentVoltage {
                position = auto:auto
                kind = sp
                direction =  out
                sp_type {
                    default = auto
                    readonly = True
                }
            }
            [
                position = 5840, 8024
            ]

            port SIpresentCurrent {
                position = auto:auto
                kind = sp
                direction =  out
                sp_type {
                    default = auto
                    readonly = True
                }
            }
            [
                position = 5840, 8080
            ]

            port SIevseStatus {
                position = auto:auto
                kind = sp
                direction =  out
                sp_type {
                    default = auto
                    readonly = True
                }
            }
            [
                position = 5840, 8144
            ]

            port SIremainingChargeSeconds {
                position = auto:auto
                kind = sp
                direction =  out
                sp_type {
                    default = auto
                    readonly = True
                }
            }
            [
                position = 5840, 8208
            ]

            port bChademoRequestt {
                position = auto:auto
                kind = sp
                direction =  out
                sp_type {
                    default = auto
                    readonly = True
                }
            }
            [
                position = 5840, 8272
            ]

            port voltage {
                position = auto:auto
                kind = sp
                direction =  out
                sp_type {
                    default = auto
                    readonly = True
                }
            }
            [
                position = 5840, 8336
            ]

            port current {
                position = auto:auto
                kind = sp
                direction =  out
                sp_type {
                    default = auto
                    readonly = True
                }
            }
            [
                position = 5840, 8400
            ]

            port kwh {
                position = auto:auto
                kind = sp
                direction =  out
                sp_type {
                    default = auto
                    readonly = True
                }
            }
            [
                position = 5840, 8464
            ]

            port SIremainingChargeMinutes {
                position = auto:auto
                kind = sp
                direction =  out
                sp_type {
                    default = auto
                    readonly = True
                }
            }
            [
                position = 5840, 8528
            ]

            tag Goto33 {
                value = "SIreceiveParams"
                scope = local
                kind = sp
                direction = in
            }
            [
                position = 5960, 7576
                hide_name = True
                size = 95, 20
            ]

            tag Goto34 {
                value = "SIreceiveStatus"
                scope = local
                kind = sp
                direction = in
            }
            [
                position = 5960, 7640
                hide_name = True
                size = 95, 20
            ]

            tag From3 {
                value = "howLongCharge"
                scope = local
                kind = sp
                direction = out
            }
            [
                position = 7976, 8072
                hide_name = True
                size = 100, 20
            ]

            tag From4 {
                value = "howLongWeThink"
                scope = local
                kind = sp
                direction = out
            }
            [
                position = 7976, 8152
                hide_name = True
                size = 100, 20
            ]

            tag From5 {
                value = "talkingProtocol"
                scope = local
                kind = sp
                direction = out
            }
            [
                position = 7976, 8312
                hide_name = True
                size = 92, 20
            ]

            tag From6 {
                value = "targetVoltage"
                scope = local
                kind = sp
                direction = out
            }
            [
                position = 7976, 8344
                hide_name = True
                size = 101, 20
            ]

            tag From7 {
                value = "askingAmps"
                scope = local
                kind = sp
                direction = out
            }
            [
                position = 7992, 8376
                hide_name = True
                size = 67, 20
            ]

            tag From8 {
                value = "faults"
                scope = local
                kind = sp
                direction = out
            }
            [
                position = 7992, 8416
                hide_name = True
                size = 60, 20
            ]

            tag From9 {
                value = "status"
                scope = local
                kind = sp
                direction = out
            }
            [
                position = 7992, 8448
                hide_name = True
                size = 60, 20
            ]

            tag From10 {
                value = "kiloWattHours"
                scope = local
                kind = sp
                direction = out
            }
            [
                position = 7984, 8480
                hide_name = True
                size = 83, 20
            ]

            tag Goto1 {
                value = "weldCheck"
                scope = local
                kind = sp
                direction = in
            }
            [
                position = 8728, 8016
                hide_name = True
                size = 71, 20
            ]

            tag Goto2 {
                value = "availVoltage"
                scope = local
                kind = sp
                direction = in
            }
            [
                position = 8728, 8056
                hide_name = True
                size = 74, 20
            ]

            tag Goto3 {
                value = "availCurrent"
                scope = local
                kind = sp
                direction = in
            }
            [
                position = 8728, 8096
                hide_name = True
                size = 77, 20
            ]

            tag Goto4 {
                value = "thresholdVoltage"
                scope = local
                kind = sp
                direction = in
            }
            [
                position = 8736, 8128
                hide_name = True
                size = 93, 20
            ]

            tag Goto5 {
                value = "bChademo10Protocol"
                scope = local
                kind = sp
                direction = in
            }
            [
                position = 8744, 8256
                hide_name = True
                size = 117, 20
            ]

            tag Goto6 {
                value = "presentVoltage"
                scope = local
                kind = sp
                direction = in
            }
            [
                position = 8736, 8288
                hide_name = True
                size = 101, 20
            ]

            tag Goto7 {
                value = "presentCurrent"
                scope = local
                kind = sp
                direction = in
            }
            [
                position = 8736, 8328
                hide_name = True
                size = 97, 20
            ]

            tag Goto8 {
                value = "evseStatus"
                scope = local
                kind = sp
                direction = in
            }
            [
                position = 8728, 8360
                hide_name = True
                size = 68, 20
            ]

            tag Goto9 {
                value = "remainingChargeSeconds"
                scope = local
                kind = sp
                direction = in
            }
            [
                position = 8760, 8392
                hide_name = True
                size = 132, 20
            ]

            tag From11 {
                value = "currentMillis"
                scope = local
                kind = sp
                direction = out
            }
            [
                position = 6624, 7584
                hide_name = True
                size = 69, 20
            ]

            tag Goto11 {
                value = "currentMillis"
                scope = local
                kind = sp
                direction = in
            }
            [
                position = 8400, 8616
                hide_name = True
                size = 65, 20
            ]

            tag Goto12 {
                value = "sendBatt"
                scope = local
                kind = sp
                direction = in
            }
            [
                position = 7208, 7560
                hide_name = True
                size = 60, 20
            ]

            tag Goto13 {
                value = "sendStatus"
                scope = local
                kind = sp
                direction = in
            }
            [
                position = 7264, 7584
                hide_name = True
                size = 60, 20
            ]

            tag Goto14 {
                value = "sendTime"
                scope = local
                kind = sp
                direction = in
            }
            [
                position = 7320, 7608
                hide_name = True
                size = 60, 20
            ]

            tag Goto15 {
                value = "maxChargeVoltage"
                scope = local
                kind = sp
                direction = in
            }
            [
                position = 7264, 7664
                hide_name = True
                size = 94, 20
            ]

            tag Goto16 {
                value = "packSizeKWH"
                scope = local
                kind = sp
                direction = in
            }
            [
                position = 7264, 7704
                hide_name = True
                size = 94, 20
            ]

            tag Goto17 {
                value = "howLongCharge"
                scope = local
                kind = sp
                direction = in
            }
            [
                position = 7336, 7776
                hide_name = True
                size = 92, 20
            ]

            tag Goto18 {
                value = "howLongWeThink"
                scope = local
                kind = sp
                direction = in
            }
            [
                position = 7336, 7840
                hide_name = True
                size = 89, 20
            ]

            tag From15 {
                value = "maxChargeVoltage"
                scope = local
                kind = sp
                direction = out
            }
            [
                position = 7968, 7808
                hide_name = True
                size = 114, 20
            ]

            tag From16 {
                value = "packSizeKWH"
                scope = local
                kind = sp
                direction = out
            }
            [
                position = 7984, 7888
                hide_name = True
                size = 85, 20
            ]

            tag From17 {
                value = "sendBatt"
                scope = local
                kind = sp
                direction = out
            }
            [
                position = 8192, 7728
                rotation = right
                hide_name = True
                size = 60, 20
            ]

            tag From18 {
                value = "sendTime"
                scope = local
                kind = sp
                direction = out
            }
            [
                position = 8192, 7984
                rotation = right
                hide_name = True
                size = 60, 20
            ]

            tag From19 {
                value = "sendStatus"
                scope = local
                kind = sp
                direction = out
            }
            [
                position = 8192, 8256
                rotation = right
                hide_name = True
                size = 70, 20
            ]

            tag Goto19 {
                value = "talkingProtocol"
                scope = local
                kind = sp
                direction = in
            }
            [
                position = 7424, 7896
                hide_name = True
                size = 89, 20
            ]

            tag Goto20 {
                value = "targetVoltage"
                scope = local
                kind = sp
                direction = in
            }
            [
                position = 7424, 7944
                hide_name = True
                size = 96, 20
            ]

            tag Goto21 {
                value = "askingAmps"
                scope = local
                kind = sp
                direction = in
            }
            [
                position = 7408, 7992
                hide_name = True
                size = 67, 20
            ]

            tag Goto22 {
                value = "faults"
                scope = local
                kind = sp
                direction = in
            }
            [
                position = 7408, 8040
                hide_name = True
                size = 60, 20
            ]

            tag Goto23 {
                value = "status"
                scope = local
                kind = sp
                direction = in
            }
            [
                position = 7408, 8088
                hide_name = True
                size = 60, 20
            ]

            tag Goto24 {
                value = "kiloWattHours"
                scope = local
                kind = sp
                direction = in
            }
            [
                position = 7424, 8136
                hide_name = True
                size = 98, 20
            ]

            tag Goto25 {
                value = "currentSeconds"
                scope = local
                kind = sp
                direction = in
            }
            [
                position = 8304, 8640
                hide_name = True
                size = 95, 20
            ]

            tag Goto26 {
                value = "receiveParams"
                scope = local
                kind = sp
                direction = in
            }
            [
                position = 8504, 7928
                rotation = left
                hide_name = True
                size = 80, 20
            ]

            tag Goto27 {
                value = "receiveStatus"
                scope = local
                kind = sp
                direction = in
            }
            [
                position = 8504, 8200
                rotation = left
                hide_name = True
                size = 73, 20
            ]

            tag From20 {
                value = "currentSeconds"
                scope = local
                kind = sp
                direction = out
            }
            [
                position = 6408, 8144
                hide_name = True
                size = 108, 20
            ]

            tag Goto32 {
                value = "remainingChargeMinutes"
                scope = local
                kind = sp
                direction = in
            }
            [
                position = 8752, 8440
                hide_name = True
                size = 132, 20
            ]

            tag From21 {
                value = "SIreceiveParams"
                scope = local
                kind = sp
                direction = out
            }
            [
                position = 6616, 7776
                hide_name = True
                size = 98, 20
            ]

            tag From22 {
                value = "SIreceiveStatus"
                scope = local
                kind = sp
                direction = out
            }
            [
                position = 6616, 7808
                hide_name = True
                size = 102, 20
            ]

            tag Goto35 {
                value = "SIweldCheck"
                scope = local
                kind = sp
                direction = in
            }
            [
                position = 5960, 7704
                hide_name = True
                size = 95, 20
            ]

            tag Goto36 {
                value = "SIavailVoltage"
                scope = local
                kind = sp
                direction = in
            }
            [
                position = 5960, 7768
                hide_name = True
                size = 95, 20
            ]

            tag Goto37 {
                value = "SIavailCurrent"
                scope = local
                kind = sp
                direction = in
            }
            [
                position = 5960, 7832
                hide_name = True
                size = 95, 20
            ]

            tag Goto38 {
                value = "SIthresholdVoltage"
                scope = local
                kind = sp
                direction = in
            }
            [
                position = 5960, 7896
                hide_name = True
                size = 95, 20
            ]

            tag Goto39 {
                value = "SIbChademo10Protocol"
                scope = local
                kind = sp
                direction = in
            }
            [
                position = 5968, 7960
                hide_name = True
                size = 115, 20
            ]

            tag Goto40 {
                value = "SIpresentVoltage"
                scope = local
                kind = sp
                direction = in
            }
            [
                position = 5960, 8024
                hide_name = True
                size = 95, 20
            ]

            tag Goto41 {
                value = "SIpresentCurrent"
                scope = local
                kind = sp
                direction = in
            }
            [
                position = 5960, 8080
                hide_name = True
                size = 95, 20
            ]

            tag Goto42 {
                value = "SIevseStatus"
                scope = local
                kind = sp
                direction = in
            }
            [
                position = 5960, 8144
                hide_name = True
                size = 95, 20
            ]

            tag Goto43 {
                value = "SIremainingChargeSeconds"
                scope = local
                kind = sp
                direction = in
            }
            [
                position = 5984, 8208
                hide_name = True
                size = 146, 20
            ]

            tag Goto44 {
                value = "bChademoRequest"
                scope = local
                kind = sp
                direction = in
            }
            [
                position = 5960, 8272
                hide_name = True
                size = 95, 20
            ]

            tag Goto45 {
                value = "voltage"
                scope = local
                kind = sp
                direction = in
            }
            [
                position = 5960, 8336
                hide_name = True
                size = 95, 20
            ]

            tag Goto46 {
                value = "current"
                scope = local
                kind = sp
                direction = in
            }
            [
                position = 5960, 8400
                hide_name = True
                size = 95, 20
            ]

            tag Goto47 {
                value = "kwh"
                scope = local
                kind = sp
                direction = in
            }
            [
                position = 5968, 8464
                hide_name = True
                size = 115, 20
            ]

            tag Goto48 {
                value = "SIremainingChargeMinutes"
                scope = local
                kind = sp
                direction = in
            }
            [
                position = 5992, 8528
                hide_name = True
                size = 155, 20
            ]

            tag From23 {
                value = "SIweldCheck"
                scope = local
                kind = sp
                direction = out
            }
            [
                position = 6584, 7856
                hide_name = True
                size = 98, 20
            ]

            tag From24 {
                value = "SIavailVoltage"
                scope = local
                kind = sp
                direction = out
            }
            [
                position = 6584, 7888
                hide_name = True
                size = 102, 20
            ]

            tag From25 {
                value = "SIavailCurrent"
                scope = local
                kind = sp
                direction = out
            }
            [
                position = 6584, 7920
                hide_name = True
                size = 98, 20
            ]

            tag From26 {
                value = "SIthresholdVoltage"
                scope = local
                kind = sp
                direction = out
            }
            [
                position = 6584, 7952
                hide_name = True
                size = 102, 20
            ]

            tag From27 {
                value = "SIbChademo10Protocol"
                scope = local
                kind = sp
                direction = out
            }
            [
                position = 6632, 7984
                hide_name = True
                size = 115, 20
            ]

            tag From28 {
                value = "SIpresentVoltage"
                scope = local
                kind = sp
                direction = out
            }
            [
                position = 6640, 8016
                hide_name = True
                size = 102, 20
            ]

            tag From29 {
                value = "SIpresentCurrent"
                scope = local
                kind = sp
                direction = out
            }
            [
                position = 6640, 8048
                hide_name = True
                size = 98, 20
            ]

            tag From30 {
                value = "SIevseStatus"
                scope = local
                kind = sp
                direction = out
            }
            [
                position = 6640, 8080
                hide_name = True
                size = 102, 20
            ]

            tag From31 {
                value = "SIremainingChargeSeconds"
                scope = local
                kind = sp
                direction = out
            }
            [
                position = 6616, 8112
                hide_name = True
                size = 149, 20
            ]

            tag From32 {
                value = "bChademoRequest"
                scope = local
                kind = sp
                direction = out
            }
            [
                position = 6680, 8176
                hide_name = True
                size = 98, 20
            ]

            tag From33 {
                value = "voltage"
                scope = local
                kind = sp
                direction = out
            }
            [
                position = 6680, 8208
                hide_name = True
                size = 102, 20
            ]

            tag From34 {
                value = "current"
                scope = local
                kind = sp
                direction = out
            }
            [
                position = 6680, 8240
                hide_name = True
                size = 98, 20
            ]

            tag From35 {
                value = "kwh"
                scope = local
                kind = sp
                direction = out
            }
            [
                position = 6680, 8272
                hide_name = True
                size = 102, 20
            ]

            tag From36 {
                value = "SIremainingChargeMinutes"
                scope = local
                kind = sp
                direction = out
            }
            [
                position = 6624, 8312
                hide_name = True
                size = 131, 20
            ]

            junction Junction14 sp
            [
                position = 8240, 8640
            ]

            junction Junction19 sp
            [
                position = 8144, 8632
            ]

            junction Junction20 sp
            [
                position = 7216, 7776
            ]

            junction Junction21 sp
            [
                position = 7232, 7840
            ]

            junction Junction22 sp
            [
                position = 7200, 7704
            ]

            junction Junction23 sp
            [
                position = 7192, 7664
            ]

            junction Junction24 sp
            [
                position = 7248, 7896
            ]

            junction Junction25 sp
            [
                position = 7256, 7944
            ]

            junction Junction26 sp
            [
                position = 7280, 7992
            ]

            junction Junction27 sp
            [
                position = 7352, 8040
            ]

            junction Junction28 sp
            [
                position = 7328, 8088
            ]

            junction Junction29 sp
            [
                position = 7304, 8136
            ]

            junction Junction30 sp
            [
                position = 7160, 7608
            ]

            junction Junction31 sp
            [
                position = 7144, 7584
            ]

            junction Junction32 sp
            [
                position = 7128, 7560
            ]

            connect From5 "EV STATUS.EVtalkingProtocol" as Connection2
            connect From3 "CHARGING TIME.EVhowLongCharge" as Connection4
            connect From4 "CHARGING TIME.EVhowLongWeThink" as Connection5
            connect From6 "EV STATUS.EVtargetVoltage" as Connection6
            [
                breakpoints = 8080, 8360
            ]
            connect From7 "EV STATUS.EVaskingAmps" as Connection7
            [
                breakpoints = 8048, 8376
            ]
            connect From10 "EV STATUS.EVkiloWattHours" as Connection23
            [
                breakpoints = 8080, 8480; 8088, 8424
            ]
            connect "EVSE STATUS.EVSEpresentCurrent" Goto7 as Connection27
            connect "EVSE STATUS.EVSEpresentVoltage" Goto6 as Connection28
            [
                breakpoints = 8616, 8304
            ]
            connect "EVSE STATUS.EVSEbChademo10Protocol" Goto5 as Connection29
            [
                breakpoints = 8600, 8296; 8600, 8272
            ]
            connect "EVSE PARAMS.EVSEthresholdVoltage" Goto4 as Connection30
            [
                breakpoints = 8608, 8104; 8616, 8128
            ]
            connect "EVSE PARAMS.EVSEavailCurrent" Goto3 as Connection31
            [
                breakpoints = 8624, 8096
            ]
            connect "EVSE PARAMS.EVSEavailVoltage" Goto2 as Connection32
            connect "EVSE PARAMS.EVSEweldCheck" Goto1 as Connection33
            [
                breakpoints = 8624, 8040; 8624, 8016
            ]
            connect "Unit Delay1.out" Counter1.reset as Connection50
            connect Constant3.out Counter1.en as Connection53
            connect "Advanced C function2.CurrentSeconds" CurrentSeconds.in as Connection76
            connect From9 "EV STATUS.EVstatus" as Connection115
            [
                breakpoints = 8056, 8448; 8056, 8408
            ]
            connect From8 "EV STATUS.EVfaults" as Connection116
            [
                breakpoints = 8040, 8400; 8040, 8392
            ]
            connect From15 "EV - BATTERY SPECS.EVmaxChargeVoltage" as Connection117
            connect From16 "EV - BATTERY SPECS.EVpackSizeKWH" as Connection118
            connect From17 "EV - BATTERY SPECS.event" as Connection119
            connect From18 "CHARGING TIME.event" as Connection129
            connect From19 "EV STATUS.event" as Connection130
            connect From11 "Advanced C function2.currentMillis" as Connection144
            connect "EVSE PARAMS.rcv_cnt" Goto26 as Connection148
            connect "EVSE STATUS.rcv_cnt" Goto27 as Connection149
            connect "C function1.out_seconds" Junction14 as Connection165
            connect Junction14 Goto25 as Connection166
            connect currentSeconds.in Junction14 as Connection167
            connect Counter1.out Junction19 as Connection192
            connect Junction19 "C function1.in" as Connection193
            connect counter.in Junction19 as Connection194
            connect "C function1.rst" "Unit Delay1.in" as Connection196
            connect "C function1.out_millis" Goto11 as Connection197
            connect "Advanced C function2.howLongCharge" Junction20 as Connection221
            [
                breakpoints = 7216, 7816
            ]
            connect Junction20 Goto17 as Connection222
            [
                breakpoints = 7216, 7776
            ]
            connect howLongCharge.in Junction20 as Connection223
            [
                breakpoints = 7216, 7760
            ]
            connect "Advanced C function2.howLongWeThink" Junction21 as Connection224
            [
                breakpoints = 7232, 7888
            ]
            connect Junction21 Goto18 as Connection225
            [
                breakpoints = 7256, 7840
            ]
            connect howLongWeThink.in Junction21 as Connection226
            [
                breakpoints = 7232, 7816
            ]
            connect "Advanced C function2.chademoState" chademoState.in as Connection233
            [
                breakpoints = 7288, 8064; 7392, 8192
            ]
            connect "Advanced C function2.insertionTime" insertionTime.in as Connection234
            [
                breakpoints = 7272, 8080; 7288, 8248
            ]
            connect "Advanced C function2.bChademoMode" bChademoMode.in as Connection235
            [
                breakpoints = 7256, 8096; 7280, 8312
            ]
            connect "Advanced C function2.bChademoRequestOutput" bChademoRequest.in as Connection237
            [
                breakpoints = 7232, 8104; 7240, 8104; 7264, 8376
            ]
            connect "Advanced C function2.bChademoSendRequestsOutput" bChademoSendRequests.in as Connection238
            [
                breakpoints = 7200, 8152; 7256, 8440
            ]
            connect "Advanced C function2.out2222" out2.in as Connection240
            [
                breakpoints = 7176, 8168; 7488, 8488
            ]
            connect "Advanced C function2.out3333" out3.in as Connection241
            [
                breakpoints = 7160, 8176; 7200, 8552
            ]
            connect "Advanced C function2.ERRORdoP" ERRORdoP.in as Connection242
            [
                breakpoints = 7136, 8184
            ]
            connect "Advanced C function2.ERRORhandle" ERRORhandle.in as Connection243
            [
                breakpoints = 7120, 8200
            ]
            connect "EVSE STATUS.EVSEstatus" Goto8 as Connection628
            [
                breakpoints = 8616, 8344; 8624, 8344; 8624, 8360
            ]
            connect "EVSE STATUS.EVSEremainingChargeSeconds" Goto9 as Connection629
            [
                breakpoints = 8608, 8368; 8616, 8392
            ]
            connect "EVSE STATUS.EVSEremaningChargeMinutes" Goto32 as Connection630
            [
                breakpoints = 8600, 8384; 8608, 8440; 8680, 8440
            ]
            connect From21 "Advanced C function2.receiveParams" as Connection634
            [
                breakpoints = 6912, 7872; 6928, 7896
            ]
            connect From22 "Advanced C function2.receiveStatus" as Connection635
            [
                breakpoints = 6888, 7816; 6912, 7912
            ]
            connect From23 "Advanced C function2.weldCheck" as Connection650
            [
                breakpoints = 6864, 7856; 6864, 7928
            ]
            connect From24 "Advanced C function2.availVoltage" as Connection651
            [
                breakpoints = 6848, 7896; 6856, 7944
            ]
            connect From25 "Advanced C function2.availCurrent" as Connection652
            [
                breakpoints = 6832, 7920; 6840, 7960
            ]
            connect From26 "Advanced C function2.thresholdVoltage" as Connection653
            [
                breakpoints = 6816, 7960; 6816, 7976
            ]
            connect From27 "Advanced C function2.bChademo10Protocol" as Connection654
            [
                breakpoints = 6800, 7992
            ]
            connect From28 "Advanced C function2.presentVoltage" as Connection655
            [
                breakpoints = 6800, 8008
            ]
            connect From29 "Advanced C function2.presentCurrent" as Connection656
            [
                breakpoints = 6816, 8048; 6840, 8024
            ]
            connect From30 "Advanced C function2.evseStatus" as Connection657
            [
                breakpoints = 6832, 8072; 6832, 8040
            ]
            connect From31 "Advanced C function2.remainingChargeSeconds" as Connection658
            [
                breakpoints = 6848, 8096; 6856, 8056
            ]
            connect From20 "Advanced C function2.currentSeconds" as Connection659
            [
                breakpoints = 6864, 8136; 6864, 8072
            ]
            connect From32 "Advanced C function2.bChademoRequest" as Connection660
            [
                breakpoints = 6880, 8160; 6880, 8088
            ]
            connect From33 "Advanced C function2.SIvoltage" as Connection661
            [
                breakpoints = 6896, 8208; 6896, 8104
            ]
            connect From34 "Advanced C function2.SIcurrent" as Connection662
            [
                breakpoints = 6912, 8232; 6920, 8120
            ]
            connect From35 "Advanced C function2.SIkwh" as Connection663
            [
                breakpoints = 6928, 8272; 6936, 8136
            ]
            connect From36 "Advanced C function2.remainingChargeMinutes" as Connection664
            [
                breakpoints = 6944, 8296; 6944, 8152
            ]
            connect out1.in "Advanced C function2.out1111" as Connection665
            [
                breakpoints = 7224, 8400
            ]
            connect SIreceiveParams Goto33 as Connection666
            connect SIreceiveStatus Goto34 as Connection667
            connect SIweldCheck Goto35 as Connection668
            connect SIavailVoltage Goto36 as Connection669
            connect SIavailCurrent Goto37 as Connection670
            connect SIthresholdVoltage Goto38 as Connection671
            connect SIbChademo10Protocol Goto39 as Connection672
            connect SIpresentVoltage Goto40 as Connection673
            connect SIpresentCurrent Goto41 as Connection674
            connect SIevseStatus Goto42 as Connection675
            connect SIremainingChargeSeconds Goto43 as Connection676
            connect bChademoRequestt Goto44 as Connection677
            connect voltage Goto45 as Connection678
            connect Goto46 current as Connection679
            connect kwh Goto47 as Connection680
            connect SIremainingChargeMinutes Goto48 as Connection681
            connect "Advanced C function2.packSizeKWH" Junction22 as Connection682
            connect Junction22 Goto16 as Connection683
            connect packSizeKWH.in Junction22 as Connection684
            connect "Advanced C function2.maxChargeVoltage" Junction23 as Connection685
            [
                breakpoints = 7192, 7896
            ]
            connect Junction23 Goto15 as Connection686
            [
                breakpoints = 7192, 7664
            ]
            connect maxChargeVoltage.in Junction23 as Connection687
            connect "Advanced C function2.talkingProtocol" Junction24 as Connection688
            [
                breakpoints = 7248, 7952
            ]
            connect Junction24 Goto19 as Connection689
            [
                breakpoints = 7264, 7896
            ]
            connect talkingProtocol.in Junction24 as Connection690
            connect "Advanced C function2.targetVoltage" Junction25 as Connection691
            [
                breakpoints = 7256, 7976
            ]
            connect Junction25 Goto20 as Connection692
            [
                breakpoints = 7264, 7944
            ]
            connect targetVoltage.in Junction25 as Connection693
            connect "Advanced C function2.askingAmps" Junction26 as Connection694
            connect Junction26 Goto21 as Connection695
            connect askingAmps.in Junction26 as Connection696
            connect "Advanced C function2.faults" Junction27 as Connection697
            [
                breakpoints = 7352, 8008
            ]
            connect Junction27 Goto22 as Connection698
            [
                breakpoints = 7360, 8040
            ]
            connect faults.in Junction27 as Connection699
            connect "Advanced C function2.status" Junction28 as Connection700
            [
                breakpoints = 7328, 8024
            ]
            connect Junction28 Goto23 as Connection701
            [
                breakpoints = 7328, 8088; 7344, 8088; 7344, 8088
            ]
            connect status.in Junction28 as Connection702
            [
                breakpoints = 7328, 8096
            ]
            connect "Advanced C function2.kiloWattHours" Junction29 as Connection703
            [
                breakpoints = 7304, 8056
            ]
            connect Junction29 Goto24 as Connection704
            [
                breakpoints = 7312, 8136
            ]
            connect kiloWattHours.in Junction29 as Connection705
            connect "Advanced C function2.sendTime" Junction30 as Connection706
            [
                breakpoints = 7160, 7840
            ]
            connect Junction30 Goto14 as Connection707
            [
                breakpoints = 7232, 7608
            ]
            connect sendTime.in Junction30 as Connection708
            connect "Advanced C function2.sendStatus" Junction31 as Connection709
            [
                breakpoints = 7144, 7840
            ]
            connect Junction31 Goto13 as Connection710
            [
                breakpoints = 7224, 7584
            ]
            connect sendStatus.in Junction31 as Connection711
            connect "Advanced C function2.sendBatt" Junction32 as Connection712
            [
                breakpoints = 7128, 7824
            ]
            connect Junction32 Goto12 as Connection713
            connect sendBatt.in Junction32 as Connection714
            [
                breakpoints = 7136, 7440; 7136, 7472; 7136, 7472; 7128, 7472; 7136, 7472; 7136, 7560; 7128, 7560; 7136, 7560; 7136, 7560; 7136, 7560
            ]
        }
        [
            position = 7680, 8080
            size = 416, 584
        ]

        component "core/CAN Bus Receive" "EVSE PARAMS" {
            data_length = "6"
            execution_rate = "100e-3"
            file_label = "Import DBC file"
            file_path = "Import DBC file"
            identifier_type = "CAN 2.0 A (11 bit identifier)"
            identifier_value = "108"
            signals = "[{\'name\': \'EVSEweldCheck\', \'start_bit\': \'0\', \'length\': \'8\', \'byte_order\': \'Little Endian\', \'data_type\': \'uint\', \'mux_type\': \'None\', \'mux_val\': \'\', \'scale\': \'\', \'offset\': \'\', \'min\': \'\', \'max\': \'\', \'unit\': \'\', \'name_old\': \'EVSEweldCheck\', \'name_changed\': \'False\'}, {\'name\': \'EVSEavailVoltage\', \'start_bit\': \'8\', \'length\': \'16\', \'byte_order\': \'Little Endian\', \'data_type\': \'uint\', \'mux_type\': \'None\', \'mux_val\': \'\', \'scale\': \'\', \'offset\': \'\', \'min\': \'\', \'max\': \'\', \'unit\': \'V\', \'name_old\': \'EVSEavailVoltage\', \'name_changed\': \'False\'}, {\'name\': \'EVSEavailCurrent\', \'start_bit\': \'24\', \'length\': \'8\', \'byte_order\': \'Little Endian\', \'data_type\': \'uint\', \'mux_type\': \'None\', \'mux_val\': \'\', \'scale\': \'\', \'offset\': \'\', \'min\': \'\', \'max\': \'\', \'unit\': \'A\', \'name_old\': \'EVSEavailCurrent\', \'name_changed\': \'False\'}, {\'name\': \'EVSEthresholdVoltage\', \'start_bit\': \'32\', \'length\': \'16\', \'byte_order\': \'Little Endian\', \'data_type\': \'uint\', \'mux_type\': \'None\', \'mux_val\': \'\', \'scale\': \'\', \'offset\': \'\', \'min\': \'\', \'max\': \'\', \'unit\': \'V\', \'name_old\': \'EVSEthresholdVoltage\', \'name_changed\': \'False\'}]"
        }
        [
            position = 10584, 9656
            size = 160, 120
        ]

        component "core/CAN Bus Send" "EV - BATTERY SPECS" {
            data_length = "7"
            file_label = "Import DBC file"
            file_path = "Import DBC file"
            identifier_type = "CAN 2.0 A (11 bit identifier)"
            signals = "[{\'name\': \'EVmaxChargeVoltage\', \'start_bit\': \'32\', \'length\': \'16\', \'byte_order\': \'Little Endian\', \'data_type\': \'uint\', \'mux_type\': \'None\', \'mux_val\': \'\', \'scale\': \'\', \'offset\': \'\', \'min\': \'\', \'max\': \'\', \'unit\': \'V\', \'name_old\': \'EVmaxChargeVoltage\', \'name_changed\': \'False\'}, {\'name\': \'EVpackSizeKWH\', \'start_bit\': \'48\', \'length\': \'8\', \'byte_order\': \'Little Endian\', \'data_type\': \'uint\', \'mux_type\': \'None\', \'mux_val\': \'\', \'scale\': \'\', \'offset\': \'\', \'min\': \'\', \'max\': \'\', \'unit\': \'%\', \'name_old\': \'EVpackSizeKWH\', \'name_changed\': \'False\'}]"
            transmit_period = "100.0"
            transmit_type = "{\'On event\': True, \'On timer\': False, \'On request\': False}"
        }
        [
            position = 10272, 9432
            size = 160, 120
        ]

        component "core/CAN Setup" "CAN Setup1" {
            can1_cd = "1"
            can1_er = "1e-3"
            can1_ts1 = "1"
            can1_ts2 = "1"
            can2_cd = "1"
            can2_er = "1e-3"
            can2_ts1 = "1"
            can2_ts2 = "1"
            hil_device_id_combo_values = "[\'0\']"
            saved_hil_device_config = "{\'0\': {\'CAN1\': {\'method\': \'Automatic\', \'er\': \'1e-3\', \'baud\': \'50000\', \'cd\': \'1\', \'ts1\': \'1\', \'ts2\': \'1\', \'sjw\': \'1\', \'cd_calc\': \'1\', \'ts1_calc\': \'1\', \'ts2_calc\': \'1\', \'sjw_calc\': \'1\'}, \'CAN2\': {\'method\': \'Automatic\', \'er\': \'1e-3\', \'baud\': \'50000\', \'cd\': \'1\', \'ts1\': \'1\', \'ts2\': \'1\', \'sjw\': \'1\', \'cd_calc\': \'1\', \'ts1_calc\': \'1\', \'ts2_calc\': \'1\', \'sjw_calc\': \'1\'}, \'send_num\': 0, \'send_buff_len\': 0, \'receive_num\': 0, \'receive_buff_len\': 0}, \'1\': {\'CAN1\': {\'method\': \'Automatic\', \'er\': \'10e-3\', \'baud\': \'50000\', \'cd\': \'1\', \'ts1\': \'1\', \'ts2\': \'1\', \'sjw\': \'1\', \'cd_calc\': \'1\', \'ts1_calc\': \'1\', \'ts2_calc\': \'1\', \'sjw_calc\': \'1\'}, \'CAN2\': {\'method\': \'Automatic\', \'er\': \'10e-3\', \'baud\': \'50000\', \'cd\': \'1\', \'ts1\': \'1\', \'ts2\': \'1\', \'sjw\': \'1\', \'cd_calc\': \'1\', \'ts1_calc\': \'1\', \'ts2_calc\': \'1\', \'sjw_calc\': \'1\'}, \'send_num\': 0, \'send_buff_len\': 0, \'receive_num\': 0, \'receive_buff_len\': 0}, \'2\': {\'CAN1\': {\'method\': \'Automatic\', \'er\': \'10e-3\', \'baud\': \'50000\', \'cd\': \'1\', \'ts1\': \'1\', \'ts2\': \'1\', \'sjw\': \'1\', \'cd_calc\': \'1\', \'ts1_calc\': \'1\', \'ts2_calc\': \'1\', \'sjw_calc\': \'1\'}, \'CAN2\': {\'method\': \'Automatic\', \'er\': \'10e-3\', \'baud\': \'50000\', \'cd\': \'1\', \'ts1\': \'1\', \'ts2\': \'1\', \'sjw\': \'1\', \'cd_calc\': \'1\', \'ts1_calc\': \'1\', \'ts2_calc\': \'1\', \'sjw_calc\': \'1\'}, \'send_num\': 0, \'send_buff_len\': 0, \'receive_num\': 0, \'receive_buff_len\': 0}, \'3\': {\'CAN1\': {\'method\': \'Automatic\', \'er\': \'10e-3\', \'baud\': \'50000\', \'cd\': \'1\', \'ts1\': \'1\', \'ts2\': \'1\', \'sjw\': \'1\', \'cd_calc\': \'1\', \'ts1_calc\': \'1\', \'ts2_calc\': \'1\', \'sjw_calc\': \'1\'}, \'CAN2\': {\'method\': \'Automatic\', \'er\': \'10e-3\', \'baud\': \'50000\', \'cd\': \'1\', \'ts1\': \'1\', \'ts2\': \'1\', \'sjw\': \'1\', \'cd_calc\': \'1\', \'ts1_calc\': \'1\', \'ts2_calc\': \'1\', \'sjw_calc\': \'1\'}, \'send_num\': 0, \'send_buff_len\': 0, \'receive_num\': 0, \'receive_buff_len\': 0}, \'4\': {\'CAN1\': {\'method\': \'Automatic\', \'er\': \'10e-3\', \'baud\': \'50000\', \'cd\': \'1\', \'ts1\': \'1\', \'ts2\': \'1\', \'sjw\': \'1\', \'cd_calc\': \'1\', \'ts1_calc\': \'1\', \'ts2_calc\': \'1\', \'sjw_calc\': \'1\'}, \'CAN2\': {\'method\': \'Automatic\', \'er\': \'10e-3\', \'baud\': \'50000\', \'cd\': \'1\', \'ts1\': \'1\', \'ts2\': \'1\', \'sjw\': \'1\', \'cd_calc\': \'1\', \'ts1_calc\': \'1\', \'ts2_calc\': \'1\', \'sjw_calc\': \'1\'}, \'send_num\': 0, \'send_buff_len\': 0, \'receive_num\': 0, \'receive_buff_len\': 0}, \'5\': {\'CAN1\': {\'method\': \'Automatic\', \'er\': \'10e-3\', \'baud\': \'50000\', \'cd\': \'1\', \'ts1\': \'1\', \'ts2\': \'1\', \'sjw\': \'1\', \'cd_calc\': \'1\', \'ts1_calc\': \'1\', \'ts2_calc\': \'1\', \'sjw_calc\': \'1\'}, \'CAN2\': {\'method\': \'Automatic\', \'er\': \'10e-3\', \'baud\': \'50000\', \'cd\': \'1\', \'ts1\': \'1\', \'ts2\': \'1\', \'sjw\': \'1\', \'cd_calc\': \'1\', \'ts1_calc\': \'1\', \'ts2_calc\': \'1\', \'sjw_calc\': \'1\'}, \'send_num\': 0, \'send_buff_len\': 0, \'receive_num\': 0, \'receive_buff_len\': 0}, \'6\': {\'CAN1\': {\'method\': \'Automatic\', \'er\': \'10e-3\', \'baud\': \'50000\', \'cd\': \'1\', \'ts1\': \'1\', \'ts2\': \'1\', \'sjw\': \'1\', \'cd_calc\': \'1\', \'ts1_calc\': \'1\', \'ts2_calc\': \'1\', \'sjw_calc\': \'1\'}, \'CAN2\': {\'method\': \'Automatic\', \'er\': \'10e-3\', \'baud\': \'50000\', \'cd\': \'1\', \'ts1\': \'1\', \'ts2\': \'1\', \'sjw\': \'1\', \'cd_calc\': \'1\', \'ts1_calc\': \'1\', \'ts2_calc\': \'1\', \'sjw_calc\': \'1\'}, \'send_num\': 0, \'send_buff_len\': 0, \'receive_num\': 0, \'receive_buff_len\': 0}, \'7\': {\'CAN1\': {\'method\': \'Automatic\', \'er\': \'10e-3\', \'baud\': \'50000\', \'cd\': \'1\', \'ts1\': \'1\', \'ts2\': \'1\', \'sjw\': \'1\', \'cd_calc\': \'1\', \'ts1_calc\': \'1\', \'ts2_calc\': \'1\', \'sjw_calc\': \'1\'}, \'CAN2\': {\'method\': \'Automatic\', \'er\': \'10e-3\', \'baud\': \'50000\', \'cd\': \'1\', \'ts1\': \'1\', \'ts2\': \'1\', \'sjw\': \'1\', \'cd_calc\': \'1\', \'ts1_calc\': \'1\', \'ts2_calc\': \'1\', \'sjw_calc\': \'1\'}, \'send_num\': 0, \'send_buff_len\': 0, \'receive_num\': 0, \'receive_buff_len\': 0}, \'8\': {\'CAN1\': {\'method\': \'Automatic\', \'er\': \'10e-3\', \'baud\': \'50000\', \'cd\': \'1\', \'ts1\': \'1\', \'ts2\': \'1\', \'sjw\': \'1\', \'cd_calc\': \'1\', \'ts1_calc\': \'1\', \'ts2_calc\': \'1\', \'sjw_calc\': \'1\'}, \'CAN2\': {\'method\': \'Automatic\', \'er\': \'10e-3\', \'baud\': \'50000\', \'cd\': \'1\', \'ts1\': \'1\', \'ts2\': \'1\', \'sjw\': \'1\', \'cd_calc\': \'1\', \'ts1_calc\': \'1\', \'ts2_calc\': \'1\', \'sjw_calc\': \'1\'}, \'send_num\': 0, \'send_buff_len\': 0, \'receive_num\': 0, \'receive_buff_len\': 0}, \'9\': {\'CAN1\': {\'method\': \'Automatic\', \'er\': \'10e-3\', \'baud\': \'50000\', \'cd\': \'1\', \'ts1\': \'1\', \'ts2\': \'1\', \'sjw\': \'1\', \'cd_calc\': \'1\', \'ts1_calc\': \'1\', \'ts2_calc\': \'1\', \'sjw_calc\': \'1\'}, \'CAN2\': {\'method\': \'Automatic\', \'er\': \'10e-3\', \'baud\': \'50000\', \'cd\': \'1\', \'ts1\': \'1\', \'ts2\': \'1\', \'sjw\': \'1\', \'cd_calc\': \'1\', \'ts1_calc\': \'1\', \'ts2_calc\': \'1\', \'sjw_calc\': \'1\'}, \'send_num\': 0, \'send_buff_len\': 0, \'receive_num\': 0, \'receive_buff_len\': 0}, \'10\': {\'CAN1\': {\'method\': \'Automatic\', \'er\': \'10e-3\', \'baud\': \'50000\', \'cd\': \'1\', \'ts1\': \'1\', \'ts2\': \'1\', \'sjw\': \'1\', \'cd_calc\': \'1\', \'ts1_calc\': \'1\', \'ts2_calc\': \'1\', \'sjw_calc\': \'1\'}, \'CAN2\': {\'method\': \'Automatic\', \'er\': \'10e-3\', \'baud\': \'50000\', \'cd\': \'1\', \'ts1\': \'1\', \'ts2\': \'1\', \'sjw\': \'1\', \'cd_calc\': \'1\', \'ts1_calc\': \'1\', \'ts2_calc\': \'1\', \'sjw_calc\': \'1\'}, \'send_num\': 0, \'send_buff_len\': 0, \'receive_num\': 0, \'receive_buff_len\': 0}, \'11\': {\'CAN1\': {\'method\': \'Automatic\', \'er\': \'10e-3\', \'baud\': \'50000\', \'cd\': \'1\', \'ts1\': \'1\', \'ts2\': \'1\', \'sjw\': \'1\', \'cd_calc\': \'1\', \'ts1_calc\': \'1\', \'ts2_calc\': \'1\', \'sjw_calc\': \'1\'}, \'CAN2\': {\'method\': \'Automatic\', \'er\': \'10e-3\', \'baud\': \'50000\', \'cd\': \'1\', \'ts1\': \'1\', \'ts2\': \'1\', \'sjw\': \'1\', \'cd_calc\': \'1\', \'ts1_calc\': \'1\', \'ts2_calc\': \'1\', \'sjw_calc\': \'1\'}, \'send_num\': 0, \'send_buff_len\': 0, \'receive_num\': 0, \'receive_buff_len\': 0}, \'12\': {\'CAN1\': {\'method\': \'Automatic\', \'er\': \'10e-3\', \'baud\': \'50000\', \'cd\': \'1\', \'ts1\': \'1\', \'ts2\': \'1\', \'sjw\': \'1\', \'cd_calc\': \'1\', \'ts1_calc\': \'1\', \'ts2_calc\': \'1\', \'sjw_calc\': \'1\'}, \'CAN2\': {\'method\': \'Automatic\', \'er\': \'10e-3\', \'baud\': \'50000\', \'cd\': \'1\', \'ts1\': \'1\', \'ts2\': \'1\', \'sjw\': \'1\', \'cd_calc\': \'1\', \'ts1_calc\': \'1\', \'ts2_calc\': \'1\', \'sjw_calc\': \'1\'}, \'send_num\': 0, \'send_buff_len\': 0, \'receive_num\': 0, \'receive_buff_len\': 0}, \'13\': {\'CAN1\': {\'method\': \'Automatic\', \'er\': \'10e-3\', \'baud\': \'50000\', \'cd\': \'1\', \'ts1\': \'1\', \'ts2\': \'1\', \'sjw\': \'1\', \'cd_calc\': \'1\', \'ts1_calc\': \'1\', \'ts2_calc\': \'1\', \'sjw_calc\': \'1\'}, \'CAN2\': {\'method\': \'Automatic\', \'er\': \'10e-3\', \'baud\': \'50000\', \'cd\': \'1\', \'ts1\': \'1\', \'ts2\': \'1\', \'sjw\': \'1\', \'cd_calc\': \'1\', \'ts1_calc\': \'1\', \'ts2_calc\': \'1\', \'sjw_calc\': \'1\'}, \'send_num\': 0, \'send_buff_len\': 0, \'receive_num\': 0, \'receive_buff_len\': 0}, \'14\': {\'CAN1\': {\'method\': \'Automatic\', \'er\': \'10e-3\', \'baud\': \'50000\', \'cd\': \'1\', \'ts1\': \'1\', \'ts2\': \'1\', \'sjw\': \'1\', \'cd_calc\': \'1\', \'ts1_calc\': \'1\', \'ts2_calc\': \'1\', \'sjw_calc\': \'1\'}, \'CAN2\': {\'method\': \'Automatic\', \'er\': \'10e-3\', \'baud\': \'50000\', \'cd\': \'1\', \'ts1\': \'1\', \'ts2\': \'1\', \'sjw\': \'1\', \'cd_calc\': \'1\', \'ts1_calc\': \'1\', \'ts2_calc\': \'1\', \'sjw_calc\': \'1\'}, \'send_num\': 0, \'send_buff_len\': 0, \'receive_num\': 0, \'receive_buff_len\': 0}, \'15\': {\'CAN1\': {\'method\': \'Automatic\', \'er\': \'10e-3\', \'baud\': \'50000\', \'cd\': \'1\', \'ts1\': \'1\', \'ts2\': \'1\', \'sjw\': \'1\', \'cd_calc\': \'1\', \'ts1_calc\': \'1\', \'ts2_calc\': \'1\', \'sjw_calc\': \'1\'}, \'CAN2\': {\'method\': \'Automatic\', \'er\': \'10e-3\', \'baud\': \'50000\', \'cd\': \'1\', \'ts1\': \'1\', \'ts2\': \'1\', \'sjw\': \'1\', \'cd_calc\': \'1\', \'ts1_calc\': \'1\', \'ts2_calc\': \'1\', \'sjw_calc\': \'1\'}, \'send_num\': 0, \'send_buff_len\': 0, \'receive_num\': 0, \'receive_buff_len\': 0}}"
        }
        [
            position = 10432, 9432
        ]

        component "core/CAN Bus Receive" "EVSE STATUS" {
            data_length = "8"
            execution_rate = "100e-3"
            file_label = "Import DBC file"
            file_path = "Import DBC file"
            identifier_type = "CAN 2.0 A (11 bit identifier)"
            identifier_value = "109"
            signals = "[{\'name\': \'EVSEbChademo10Protocol\', \'start_bit\': \'0\', \'length\': \'8\', \'byte_order\': \'Little Endian\', \'data_type\': \'uint\', \'mux_type\': \'None\', \'mux_val\': \'\', \'scale\': \'\', \'offset\': \'\', \'min\': \'\', \'max\': \'\', \'unit\': \'\', \'name_old\': \'EVSEbChademo10Protocol\', \'name_changed\': \'False\'}, {\'name\': \'EVSEpresentVoltage\', \'start_bit\': \'8\', \'length\': \'16\', \'byte_order\': \'Little Endian\', \'data_type\': \'uint\', \'mux_type\': \'None\', \'mux_val\': \'\', \'scale\': \'\', \'offset\': \'\', \'min\': \'\', \'max\': \'\', \'unit\': \'V\', \'name_old\': \'EVSEpresentVoltage\', \'name_changed\': \'False\'}, {\'name\': \'EVSEpresentCurrent\', \'start_bit\': \'24\', \'length\': \'8\', \'byte_order\': \'Little Endian\', \'data_type\': \'uint\', \'mux_type\': \'None\', \'mux_val\': \'\', \'scale\': \'\', \'offset\': \'\', \'min\': \'\', \'max\': \'\', \'unit\': \'A\', \'name_old\': \'EVSEpresentCurrent\', \'name_changed\': \'False\'}, {\'name\': \'EVSEstatus\', \'start_bit\': \'40\', \'length\': \'8\', \'byte_order\': \'Little Endian\', \'data_type\': \'uint\', \'mux_type\': \'None\', \'mux_val\': \'\', \'scale\': \'\', \'offset\': \'\', \'min\': \'\', \'max\': \'\', \'unit\': \'\', \'name_old\': \'EVSEstatus\', \'name_changed\': \'False\'}, {\'name\': \'EVSEremainingChargeSeconds\', \'start_bit\': \'48\', \'length\': \'8\', \'byte_order\': \'Little Endian\', \'data_type\': \'uint\', \'mux_type\': \'None\', \'mux_val\': \'\', \'scale\': \'\', \'offset\': \'\', \'min\': \'\', \'max\': \'\', \'unit\': \'s\', \'name_old\': \'EVSEremainingChargeSeconds\', \'name_changed\': \'False\'}, {\'name\': \'EVSEremaningChargeMinutes\', \'start_bit\': \'56\', \'length\': \'8\', \'byte_order\': \'Little Endian\', \'data_type\': \'uint\', \'mux_type\': \'None\', \'mux_val\': \'\', \'scale\': \'\', \'offset\': \'\', \'min\': \'\', \'max\': \'\', \'unit\': \'min\', \'name_old\': \'\', \'name_changed\': \'True\'}]"
        }
        [
            position = 10584, 9920
            size = 160, 120
        ]

        component "core/CAN Bus Send" "CHARGING TIME" {
            data_length = "8"
            file_label = "Import DBC file"
            file_path = "Import DBC file"
            identifier_type = "CAN 2.0 A (11 bit identifier)"
            identifier_value = "101"
            signals = "[{\'name\': \'EVhowLongCharge\', \'start_bit\': \'16\', \'length\': \'8\', \'byte_order\': \'Little Endian\', \'data_type\': \'uint\', \'mux_type\': \'None\', \'mux_val\': \'\', \'scale\': \'\', \'offset\': \'\', \'min\': \'\', \'max\': \'\', \'unit\': \'min\', \'name_old\': \'EVhowLongCharge\', \'name_changed\': \'False\'}, {\'name\': \'EVhowLongWeThink\', \'start_bit\': \'32\', \'length\': \'8\', \'byte_order\': \'Little Endian\', \'data_type\': \'uint\', \'mux_type\': \'None\', \'mux_val\': \'\', \'scale\': \'\', \'offset\': \'\', \'min\': \'\', \'max\': \'\', \'unit\': \'min\', \'name_old\': \'EVhowLongWeThink\', \'name_changed\': \'False\'}]"
            transmit_period = "100.0"
            transmit_type = "{\'On event\': True, \'On timer\': False, \'On request\': False}"
        }
        [
            position = 10272, 9696
            size = 160, 120
        ]

        component "core/CAN Bus Send" "EV STATUS" {
            data_length = "8"
            file_label = "Import DBC file"
            file_path = "Import DBC file"
            identifier_type = "CAN 2.0 A (11 bit identifier)"
            identifier_value = "102"
            signals = "[{\'name\': \'EVtalkingProtocol\', \'start_bit\': \'0\', \'length\': \'8\', \'byte_order\': \'Little Endian\', \'data_type\': \'uint\', \'mux_type\': \'None\', \'mux_val\': \'\', \'scale\': \'\', \'offset\': \'\', \'min\': \'\', \'max\': \'\', \'unit\': \'\', \'name_old\': \'EVtalking09protocol\', \'name_changed\': \'True\'}, {\'name\': \'EVtargetVoltage\', \'start_bit\': \'8\', \'length\': \'16\', \'byte_order\': \'Little Endian\', \'data_type\': \'uint\', \'mux_type\': \'None\', \'mux_val\': \'\', \'scale\': \'\', \'offset\': \'\', \'min\': \'\', \'max\': \'\', \'unit\': \'V\', \'name_old\': \'EVtargetVoltage\', \'name_changed\': \'False\'}, {\'name\': \'EVaskingAmps\', \'start_bit\': \'24\', \'length\': \'8\', \'byte_order\': \'Little Endian\', \'data_type\': \'uint\', \'mux_type\': \'None\', \'mux_val\': \'\', \'scale\': \'\', \'offset\': \'\', \'min\': \'\', \'max\': \'\', \'unit\': \'A\', \'name_old\': \'EVaskingAmps\', \'name_changed\': \'False\'}, {\'name\': \'EVfaults\', \'start_bit\': \'32\', \'length\': \'5\', \'byte_order\': \'Little Endian\', \'data_type\': \'uint\', \'mux_type\': \'None\', \'mux_val\': \'\', \'scale\': \'\', \'offset\': \'\', \'min\': \'\', \'max\': \'\', \'unit\': \'\', \'name_old\': \'EVfaults\', \'name_changed\': \'False\'}, {\'name\': \'EVstatus\', \'start_bit\': \'40\', \'length\': \'5\', \'byte_order\': \'Little Endian\', \'data_type\': \'uint\', \'mux_type\': \'None\', \'mux_val\': \'\', \'scale\': \'\', \'offset\': \'\', \'min\': \'\', \'max\': \'\', \'unit\': \'\', \'name_old\': \'EVstatus\', \'name_changed\': \'False\'}, {\'name\': \'EVkiloWattHours\', \'start_bit\': \'48\', \'length\': \'8\', \'byte_order\': \'Little Endian\', \'data_type\': \'uint\', \'mux_type\': \'None\', \'mux_val\': \'\', \'scale\': \'\', \'offset\': \'\', \'min\': \'\', \'max\': \'\', \'unit\': \'%\', \'name_old\': \'EVkiloWattHours\', \'name_changed\': \'False\'}]"
            transmit_period = "100.0"
            transmit_type = "{\'On event\': True, \'On timer\': False, \'On request\': False}"
        }
        [
            position = 10272, 9968
            size = 160, 120
        ]

        component "core/Advanced C function" "Advanced C function2" {
            add_src_path = "chademo.cpp;chademo.h;globals.h"
            add_src_path_full = "C:\Users\Teodora Mijovic\Desktop\CHAdeMO\chademo.cpp;C:\Users\Teodora Mijovic\Desktop\CHAdeMO\chademo.h;C:\Users\Teodora Mijovic\Desktop\CHAdeMO\globals.h"
            arb_defs = "/*Begin code section*/

/*End code section*/"
            execution_rate = "100e-6"
            global_variables = "real Count;real PreviousMillis;real Interval;real Time;real CurrentSecs;uint debugTick;real receiveMillis;real auxReceiveParams;real auxReceiveStatus;uint receiveID;real varTargetCurrent;"
            init_fnc = "/*Begin code section*/
receiveMillis = 0;
auxReceiveParams = 0;
auxReceiveStatus = 0;
receiveID = 0;

ERRORdoP = 0;
errorDoProcessing = 0;
ERRORhandle = 0;
errorHandle = 0;

CHADEMO();

chademo.evse_params.availVoltage = 0;
chademo.evse_params.availCurrent = 0;
chademo.evse_params.thresholdVoltage = 0;
chademo.bChademo10Protocol = 0;
chademo.evse_status.presentVoltage = 0;
chademo.evse_status.presentCurrent = 0;
chademo.evse_status.status = 0;
chademo.evse_status.remainingChargeSeconds = 0;
chademo.evse_status.remainingChargeMinutes = 0;

settings.maxChargeVoltage = 0;

talkingProtocol = 0;

howLongCharge = 0;
howLongWeThink = 0;

settings.packSizeKWH = 33.0; //just a random guess. Maybe it should default to zero though?
settings.ampHours = 0.0;
settings.kiloWattHours = 0.0; // Is empty kiloWattHours count up
settings.maxChargeVoltage = 158;
settings.minChargeAmperage = 20;
settings.capacity = 180;
settings.debuggingLevel = 1;

settings.targetChargeVoltage = 160; //targetVoltage
settings.maxChargeAmperage = 130; //targetCurrent
chademo.updateTargetAV();

Count = 0;
PreviousMillis = 0;
Interval = 10;
Time = 0;
debugTick = 0;

//chademo.CurrentMillis = 0;

Voltage = 0;
Current  = 0;
//Power = 0;

in1 = 1;
in2 = 0;

out1= 0;
out2 = 0;
out3 = 0;
/*End code section*/"
            input_terminals = "inherit currentMillis;inherit receiveParams;inherit receiveStatus;inherit weldCheck;inherit availVoltage;inherit availCurrent;inherit thresholdVoltage;inherit bChademo10Protocol;uint presentVoltage;inherit presentCurrent;inherit evseStatus;uint remainingChargeSeconds;inherit currentSeconds;inherit bChademoRequest;inherit SIvoltage;inherit SIcurrent;inherit SIkwh;inherit remainingChargeMinutes;"
            input_terminals_dimensions = "inherit;inherit;inherit;inherit;inherit;inherit;inherit;inherit;inherit;inherit;inherit;inherit;inherit;inherit;inherit;inherit;inherit;inherit"
            input_terminals_feedthrough = "True;True;True;True;True;True;True;True;True;True;True;True;True;True;True;True;True;True"
            input_terminals_show_labels = "False;False;False;False;False;False;False;False;False;False;False;False;False;False;False;False;False;False"
            output_fnc = "/*Begin code section*/
chademo.bChademoRequest = bChademoRequest;
CurrentSeconds = currentSeconds;

ERRORdoP = errorDoProcessing;
ERRORhandle = errorHandle;

chademoState = chademo.chademoState;

bChademoMode = chademo.bChademoMode;
bChademoRequestOutput = chademo.bChademoRequest;
bChademoSendRequestsOutput = chademo.bChademoSendRequests;

out1111 = out1;
out2222 = out2;
out3333 = out3;

chademo.CurrentMillis = currentMillis;  

if (debugTick == 1) 
{
    debugTick = 0;
}

chademo.loop(currentMillis);
insertionTime = chademo.insertionTime;

if (chademo.sendBatt == 1) 
{
    chademo.sendBatt = 0;
    sendBatt = 1;
    maxChargeVoltage = settings.maxChargeVoltage;
    packSizeKWH = settings.packSizeKWH;
}
else sendBatt = 0;
      
if (chademo.sendStatus == 1)
{
    chademo.sendStatus = 0;
    sendStatus = 1;
    
    if (bChademo10Protocol) talkingProtocol = 2;  //check this!!
    targetVoltage = chademo.carStatus.targetVoltage;
    askingAmps = chademo.askingAmps;
    faults = chademo.faults;
    status = chademo.status;
    kiloWattHours = settings.kiloWattHours;
}
else sendStatus = 0;
    
if (chademo.sendTime == 1)  
{
    chademo.sendTime = 0;
    sendTime = 1;
    
    howLongCharge = 90;
    howLongWeThink = 60;
}
else sendTime = 0;

if (chademo.CurrentMillis - PreviousMillis >= Interval)
{ 
    Time = chademo.CurrentMillis - PreviousMillis;
    PreviousMillis = chademo.CurrentMillis;
    
    Count++;
    Voltage = SIvoltage;
    Current = SIcurrent;
    settings.kiloWattHours = SIkwh;
    
    chademo.doProcessing();
    
    if(Count >= 50)
    {
        Count = 0;
        
        if (!chademo.bChademoMode)
        {
            chademo.checkChargingState(); // looking for reset of charging.
        }
    }
}

if (currentMillis - 100 == receiveMillis)  //I\'m checking every 100ms if there is a received message
{
    receiveMillis = currentMillis;
    
    if(receiveParams > auxReceiveParams)
    {
        auxReceiveParams = receiveParams;
        receiveID = 0x108;
        
        chademo.evse_params.supportWeldCheck = weldCheck;
        chademo.evse_params.availVoltage =  (availVoltage & 0xFF) + 256*(availVoltage & 0xFF00);
        chademo.evse_params.availCurrent = availCurrent;
        chademo.evse_params.thresholdVoltage = (thresholdVoltage & 0xFF) + 256*(thresholdVoltage & 0xFF00);
        
        chademo.handleCANFrame(currentMillis, receiveID);
    }
    
    if (receiveStatus > auxReceiveStatus)
    {
        auxReceiveStatus = receiveStatus;
        receiveID = 0x109;
       
        if (bChademo10Protocol > 1) chademo.bChademo10Protocol = 1;
        chademo.evse_status.presentVoltage = (presentVoltage & 0xFF) + 256*(presentVoltage & 0xFF00); //?? evse_status.presentVoltage = frame.data.byte[1] + 256 * frame.data.byte[2];
        chademo.evse_status.presentCurrent = presentCurrent;
        chademo.evse_status.status = evseStatus;
        
        /*if (remainingChargeSeconds < 0xFF)
        {
            chademo.evse_status.remainingChargeSeconds = (remainingChargeSeconds & 0xFF) * 10;
        }
        else
        {
            chademo.evse_status.remainingChargeSeconds = (remainingChargeSeconds & 0xFF00) * 60;
        }*/
        
        chademo.evse_status.remainingChargeSeconds = remainingChargeSeconds * 10;
        chademo.evse_status.remainingChargeMinutes = remainingChargeMinutes * 60;
        //chademo.evse_status.remainingChargeMinutes = chademo.evse_status.remainingChargeSeconds * 6;

        chademo.handleCANFrame(currentMillis, receiveID);
    }
}
/*End code section*/"
            output_terminals = "inherit CurrentSeconds;uint sendBatt;uint sendStatus;uint sendTime;inherit maxChargeVoltage;inherit packSizeKWH;inherit howLongCharge;inherit howLongWeThink;inherit talkingProtocol;inherit targetVoltage;inherit askingAmps;inherit faults;inherit status;inherit kiloWattHours;inherit chademoState;inherit insertionTime;inherit bChademoMode;inherit bChademoRequestOutput;inherit out1111;inherit bChademoSendRequestsOutput;inherit out2222;inherit out3333;inherit ERRORdoP;inherit ERRORhandle;"
            output_terminals_dimensions = "inherit;inherit;inherit;inherit;inherit;inherit;inherit;inherit;inherit;inherit;inherit;inherit;inherit;inherit;inherit;inherit;inherit;inherit;inherit;inherit;inherit;inherit;inherit;inherit"
            output_terminals_feedthrough = "True;True;True;True;True;True;True;True;True;True;True;True;True;True;True;True;True;True;True;True;True;True;True;True"
            output_terminals_show_labels = "False;False;False;False;False;False;False;False;False;False;False;False;False;False;False;False;False;False;False;False;False;False;False;False"
        }
        [
            position = 9104, 9600
            hide_name = True
            size = 120, 400
        ]

        component "core/C function" "C function1" {
            execution_rate = "100e-6"
            global_variables = "uint currentMillis;uint currentSeconds;"
            init_fnc = "/*Begin code section*/
currentMillis = 0;
currentSeconds = 0;
rst = 1;

out_millis = 0;
out_seconds = 0;
/*End code section*/"
            input_terminals = "inherit in;"
            input_terminals_dimensions = "inherit"
            input_terminals_feedthrough = "True"
            input_terminals_show_labels = "False"
            output_fnc = "/*Begin code section*/
rst = 1;

if(in == 10) 
{
    currentMillis += 1;
    out_millis = currentMillis;
    
    if ((currentMillis % 1000) == 0 )
    { 
        currentSeconds += 1;
        out_seconds = currentSeconds;
    }
    rst = 0;
}
/*End code section*/"
            output_terminals = "uint out_millis;uint out_seconds;int rst;"
            output_terminals_dimensions = "inherit;inherit;inherit"
            output_terminals_feedthrough = "True;True;True"
            output_terminals_show_labels = "False;False;False"
        }
        [
            position = 10272, 10216
            hide_name = True
            size = 48, 64
        ]

        component "core/Counter" Counter1 {
            execution_rate = "100e-6"
            ext_reset = "falling"
        }
        [
            position = 10176, 10216
            size = 48, 48
        ]

        component "core/Unit Delay" "Unit Delay1" {
        }
        [
            position = 10216, 10312
            rotation = down
            hide_name = True
        ]

        component "core/Constant" Constant3 {
            signal_type = "uint"
        }
        [
            position = 10048, 10208
            hide_name = True
        ]

        component "core/Probe" CurrentSeconds {
        }
        [
            position = 9224, 9080
        ]

        component "core/SCADA Input" SIreceiveParams1 {
            format = "uint"
            min = "0"
            signal_type = "uint"
            unit = ""
        }
        [
            position = 8640, 9328
        ]

        component "core/SCADA Input" SIreceiveStatus1 {
            format = "uint"
            min = "0"
            signal_type = "uint"
            unit = ""
        }
        [
            position = 8648, 9392
        ]

        component "core/SCADA Input" SIweldCheck1 {
            unit = ""
        }
        [
            position = 8680, 9472
        ]

        component "core/SCADA Input" SIavailVoltage1 {
            format = "uint"
            min = "0"
            signal_type = "uint"
            unit = "V"
        }
        [
            position = 8680, 9528
        ]

        component "core/SCADA Input" SIavailCurrent1 {
            format = "uint"
            min = "0"
            signal_type = "uint"
            unit = "A"
        }
        [
            position = 8680, 9592
        ]

        component "core/SCADA Input" SIthresholdVoltage1 {
            format = "uint"
            min = "0"
            signal_type = "uint"
            unit = "V"
        }
        [
            position = 8680, 9648
        ]

        component "core/SCADA Input" SIbChademo10Protocol1 {
            format = "uint"
            min = "0"
            signal_type = "uint"
            unit = ""
        }
        [
            position = 8744, 9720
        ]

        component "core/SCADA Input" SIpresentVoltage1 {
            unit = "V"
        }
        [
            position = 8744, 9784
        ]

        component "core/SCADA Input" SIpresentCurrent1 {
            format = "uint"
            min = "0"
            signal_type = "uint"
            unit = "A"
        }
        [
            position = 8744, 9848
        ]

        component "core/SCADA Input" SIevseStatus1 {
            format = "uint"
            min = "0"
            signal_type = "uint"
            unit = ""
        }
        [
            position = 8744, 9904
        ]

        component "core/SCADA Input" SIremainingChargeSeconds1 {
            format = "uint"
            min = "0"
            signal_type = "uint"
            unit = "s"
        }
        [
            position = 8744, 9968
        ]

        component "core/Probe" currentSeconds {
        }
        [
            position = 10384, 10280
        ]

        component "core/Probe" chademoState {
        }
        [
            position = 9520, 9776
        ]

        component "core/Probe" howLongCharge {
        }
        [
            position = 9544, 9336
        ]

        component "core/Probe" howLongWeThink {
        }
        [
            position = 9544, 9400
        ]

        component "core/Probe" insertionTime {
        }
        [
            position = 9520, 9832
        ]

        component "core/Probe" bChademoMode {
        }
        [
            position = 9520, 9896
        ]

        component "core/Probe" bChademoRequest {
        }
        [
            position = 9520, 9960
        ]

        component "core/Probe" out1 {
        }
        [
            position = 9704, 10000
        ]

        component "core/Probe" counter {
        }
        [
            position = 10272, 10144
        ]

        component "core/Probe" bChademoSendRequests {
        }
        [
            position = 9520, 10024
        ]

        component "core/SCADA Input" SIbChademoRequest1 {
            format = "uint"
            min = "0"
            signal_type = "uint"
            unit = ""
        }
        [
            position = 8840, 10080
        ]

        component "core/Probe" out2 {
        }
        [
            position = 9704, 10072
        ]

        component "core/Probe" out3 {
        }
        [
            position = 9704, 10136
        ]

        component "core/SCADA Input" SIvoltage1 {
            unit = "V"
        }
        [
            position = 8840, 10144
        ]

        component "core/SCADA Input" SIcurrent1 {
            format = "uint"
            min = "0"
            signal_type = "uint"
            unit = "A"
        }
        [
            position = 8840, 10208
        ]

        component "core/SCADA Input" SIkwh1 {
            format = "uint"
            min = "0"
            signal_type = "uint"
            unit = "%"
        }
        [
            position = 8840, 10264
        ]

        component "core/Probe" ERRORdoP {
        }
        [
            position = 9360, 10216
        ]

        component "core/Probe" ERRORhandle {
        }
        [
            position = 9360, 10280
        ]

        component "core/SCADA Input" SIremainingChargeMinutes1 {
            format = "uint"
            min = "0"
            signal_type = "uint"
            unit = "s"
        }
        [
            position = 8744, 10320
        ]

        component "core/SCADA Input" SIreceiveParams {
            format = "uint"
            min = "0"
            signal_type = "uint"
            unit = ""
        }
        [
            position = 7000, 7520
        ]

        component "core/SCADA Input" SIreceiveStatus {
            format = "uint"
            min = "0"
            signal_type = "uint"
            unit = ""
        }
        [
            position = 7000, 7584
        ]

        component "core/SCADA Input" SIweldCheck {
            unit = ""
        }
        [
            position = 7048, 7664
        ]

        component "core/SCADA Input" SIavailVoltage {
            format = "uint"
            min = "0"
            signal_type = "uint"
            unit = "V"
        }
        [
            position = 7048, 7720
        ]

        component "core/SCADA Input" SIavailCurrent {
            format = "uint"
            min = "0"
            signal_type = "uint"
            unit = "A"
        }
        [
            position = 7048, 7784
        ]

        component "core/SCADA Input" SIthresholdVoltage {
            format = "uint"
            min = "0"
            signal_type = "uint"
            unit = "V"
        }
        [
            position = 7048, 7848
        ]

        component "core/SCADA Input" SIbChademo10Protocol {
            format = "uint"
            min = "0"
            signal_type = "uint"
            unit = ""
        }
        [
            position = 7080, 7944
        ]

        component "core/SCADA Input" SIpresentVoltage {
            unit = "V"
        }
        [
            position = 7080, 8000
        ]

        component "core/SCADA Input" SIpresentCurrent {
            format = "uint"
            min = "0"
            signal_type = "uint"
            unit = "A"
        }
        [
            position = 7080, 8056
        ]

        component "core/SCADA Input" SIevseStatus {
            format = "uint"
            min = "0"
            signal_type = "uint"
            unit = ""
        }
        [
            position = 7080, 8112
        ]

        component "core/SCADA Input" SIremainingChargeSeconds {
            format = "uint"
            min = "0"
            signal_type = "uint"
            unit = "s"
        }
        [
            position = 7080, 8168
        ]

        component "core/SCADA Input" SIbChademoRequest {
            format = "uint"
            min = "0"
            signal_type = "uint"
            unit = ""
        }
        [
            position = 7168, 8256
        ]

        component "core/SCADA Input" SIvoltage {
            unit = "V"
        }
        [
            position = 7168, 8320
        ]

        component "core/SCADA Input" SIcurrent {
            format = "uint"
            min = "0"
            signal_type = "uint"
            unit = "A"
        }
        [
            position = 7168, 8384
        ]

        component "core/SCADA Input" SIkwh {
            format = "uint"
            min = "0"
            signal_type = "uint"
            unit = "%"
        }
        [
            position = 7168, 8440
        ]

        component "core/SCADA Input" SIremainingChargeMinutes {
            format = "uint"
            min = "0"
            signal_type = "uint"
            unit = "s"
        }
        [
            position = 7080, 8520
        ]

        component "core/SCADA Input" "Charging cable" {
            format = "int"
            max = "1"
            min = "0"
            signal_type = "int"
            unit = ""
        }
        [
            position = 9304, 7800
            rotation = right
        ]

        component "core/Multi Pole Single Throw Contactor" SW {
            ctrl_src = "Model"
            num_of_phases = "7"
            signal_access = "Inherit"
        }
        [
            position = 9304, 8024
            hide_name = True
            size = 64, 352
        ]

        component "core/Battery" Battery {
            Kdisc_I = "20.0"
            Ke_exp = "103.0"
            Ke_full = "116.0"
            Kq_exp = "85.0"
            Kq_nom = "93.5"
            R_series = "0.20000000000000018"
            battery_type = "Lithium-Ion"
            capacity = "50"
            execution_rate = "Ts"
            initial_soc = "80.0"
            nominal_voltage = "400.0"
            sig_output = "True"
        }
        [
            position = 9928, 7928
            rotation = right
            size = 64, 48
        ]

        component "core/Double Pole Single Throw Contactor" "EV contactor" {
            ctrl_src = "Model"
        }
        [
            position = 9568, 7928
            size = 64, 256
        ]

        component "core/Voltage Measurement" "battery voltage" {
            execution_rate = "Ts"
            sig_output = "True"
        }
        [
            position = 9792, 7928
            rotation = right
            size = 64, 32
        ]

        component "core/Current Measurement" "battery current" {
            execution_rate = "Ts"
        }
        [
            position = 9696, 7832
            size = 64, 32
        ]

        component "core/Voltage Source" "+V DC" {
            init_const_value = "12"
        }
        [
            position = 8648, 7976
            rotation = down
        ]

        component "core/Ground" gnd2 {
        }
        [
            position = 8544, 8024
            hide_name = True
        ]

        component "core/Resistor" R5 {
        }
        [
            position = 9808, 8104
        ]

        component "core/Ground" gnd3 {
        }
        [
            position = 9880, 8232
            hide_name = True
        ]

        component "core/Resistor" R6 {
        }
        [
            position = 9800, 8392
        ]

        component "core/Single Pole Single Throw Contactor" d1 {
            signal_access = "Inherit"
        }
        [
            position = 8888, 7976
            size = 64, 32
        ]

        component "core/Single Pole Single Throw Contactor" d2 {
            signal_access = "Inherit"
        }
        [
            position = 8888, 8024
            size = 64, 32
        ]

        component "core/Ground" gnd4 {
        }
        [
            position = 8648, 8272
            hide_name = True
        ]

        component "core/Resistor" R1 {
            resistance = "200"
        }
        [
            position = 8888, 8072
        ]

        component "core/Resistor" R3 {
            resistance = "1000"
        }
        [
            position = 9504, 8168
        ]

        component "core/Resistor" R2 {
            resistance = "1000"
        }
        [
            position = 8952, 8120
        ]

        component "core/Resistor" R4 {
            resistance = "200"
        }
        [
            position = 9504, 8272
        ]

        component "core/Voltage Source" "+V DC1" {
            init_const_value = "12"
        }
        [
            position = 8712, 8120
            rotation = down
        ]

        component "core/Current Measurement" "current of d1" {
            execution_rate = "Ts"
            sig_output = "True"
            signal_access = "Inherit"
        }
        [
            position = 9880, 8160
            rotation = left
            scale = -1, 1
            size = 64, 32
        ]

        component "core/Current Measurement" "current of d2" {
            execution_rate = "Ts"
            sig_output = "True"
            signal_access = "Inherit"
        }
        [
            position = 9880, 8336
            rotation = left
            scale = -1, 1
            size = 64, 32
        ]

        component "core/Signal switch" "Signal switch1" {
            threshold = "0"
        }
        [
            position = 9720, 8488
        ]

        component "core/Ground" gnd6 {
        }
        [
            position = 9616, 9032
            hide_name = True
        ]

        component "core/Voltage Measurement" "(not)charge" {
            execution_rate = "Ts"
            sig_output = "True"
        }
        [
            position = 9568, 8344
            rotation = right
            size = 64, 32
        ]

        component "core/Constant" Constant4 {
        }
        [
            position = 9648, 8472
            hide_name = True
        ]

        component "core/Constant" Constant5 {
            value = "0"
        }
        [
            position = 9648, 8504
            hide_name = True
        ]

        component "core/Signal switch" "Signal switch2" {
            threshold = "0"
        }
        [
            position = 9720, 8616
        ]

        component "core/Constant" Constant6 {
        }
        [
            position = 9648, 8600
            hide_name = True
        ]

        component "core/Constant" Constant7 {
            value = "0"
        }
        [
            position = 9648, 8632
            hide_name = True
        ]

        component "core/Voltage Source" "+V DC2" {
            init_const_value = "12"
        }
        [
            position = 9528, 8688
        ]

        component "core/Battery" Battery1 {
            Kdisc_I = "20.0"
            Ke_exp = "103.0"
            Ke_full = "116.0"
            Kq_exp = "85.0"
            Kq_nom = "93.5"
            R_series = "0.20000000000000018"
            battery_type = "Lithium-Ion"
            capacity = "50"
            execution_rate = "Ts"
            initial_soc = "80.0"
            nominal_voltage = "400.0"
            signal_access = "Inherit"
        }
        [
            position = 9480, 8800
            rotation = right
            hide_name = True
            size = 64, 48
        ]

        component "core/Current Measurement" "(dis)connection" {
            execution_rate = "Ts"
            sig_output = "True"
            signal_access = "Inherit"
        }
        [
            position = 9584, 8208
            rotation = left
            scale = -1, 1
            size = 64, 32
        ]

        component "core/Current Measurement" "(not)ready" {
            execution_rate = "Ts"
            signal_access = "Inherit"
        }
        [
            position = 8816, 8120
            scale = -1, 1
            size = 64, 32
        ]

        component "core/Signal Controlled Current Source" Isp1 {
        }
        [
            position = 8824, 7760
            scale = -1, 1
            size = 64, 32
        ]

        component "core/Signal switch" "Signal switch3" {
            criterion = "ctrl != threshold"
            threshold = "EVSE_READY"
        }
        [
            position = 8736, 7672
            hide_name = True
        ]

        component "core/Constant" Constant8 {
            execution_rate = "Ts"
            signal_type = "int"
            value = "0"
        }
        [
            position = 8600, 7656
            hide_name = True
        ]

        component "core/Resistor" R8 {
            resistance = "1e4"
        }
        [
            position = 8880, 7856
            rotation = right
        ]

        component "core/Single Pole Single Throw Contactor" S1 {
            ctrl_src = "Model"
            signal_access = "Inherit"
        }
        [
            position = 9944, 8072
            hide_name = True
            size = 64, 32
        ]

        component "core/Single Pole Single Throw Contactor" S2 {
        }
        [
            position = 9520, 8432
            hide_name = True
            size = 64, 32
        ]

        tag From3 {
            value = "howLongCharge"
            scope = local
            kind = sp
            direction = out
        }
        [
            position = 10056, 9656
            hide_name = True
            size = 100, 20
        ]

        tag From4 {
            value = "howLongWeThink"
            scope = local
            kind = sp
            direction = out
        }
        [
            position = 10056, 9736
            hide_name = True
            size = 100, 20
        ]

        tag From5 {
            value = "talkingProtocol"
            scope = local
            kind = sp
            direction = out
        }
        [
            position = 10056, 9896
            hide_name = True
            size = 92, 20
        ]

        tag From6 {
            value = "targetVoltage"
            scope = local
            kind = sp
            direction = out
        }
        [
            position = 10056, 9928
            hide_name = True
            size = 101, 20
        ]

        tag From7 {
            value = "askingAmps"
            scope = local
            kind = sp
            direction = out
        }
        [
            position = 10072, 9960
            hide_name = True
            size = 67, 20
        ]

        tag From8 {
            value = "faults"
            scope = local
            kind = sp
            direction = out
        }
        [
            position = 10072, 10000
            hide_name = True
            size = 60, 20
        ]

        tag From9 {
            value = "status"
            scope = local
            kind = sp
            direction = out
        }
        [
            position = 10072, 10032
            hide_name = True
            size = 60, 20
        ]

        tag From10 {
            value = "kiloWattHours"
            scope = local
            kind = sp
            direction = out
        }
        [
            position = 10064, 10064
            hide_name = True
            size = 83, 20
        ]

        tag Goto1 {
            value = "weldCheck"
            scope = local
            kind = sp
            direction = in
        }
        [
            position = 10808, 9600
            hide_name = True
            size = 71, 20
        ]

        tag Goto2 {
            value = "availVoltage"
            scope = local
            kind = sp
            direction = in
        }
        [
            position = 10808, 9640
            hide_name = True
            size = 74, 20
        ]

        tag Goto3 {
            value = "availCurrent"
            scope = local
            kind = sp
            direction = in
        }
        [
            position = 10808, 9680
            hide_name = True
            size = 77, 20
        ]

        tag Goto4 {
            value = "thresholdVoltage"
            scope = local
            kind = sp
            direction = in
        }
        [
            position = 10816, 9712
            hide_name = True
            size = 93, 20
        ]

        tag Goto5 {
            value = "bChademo10Protocol"
            scope = local
            kind = sp
            direction = in
        }
        [
            position = 10824, 9840
            hide_name = True
            size = 117, 20
        ]

        tag Goto6 {
            value = "presentVoltage"
            scope = local
            kind = sp
            direction = in
        }
        [
            position = 10816, 9872
            hide_name = True
            size = 101, 20
        ]

        tag Goto7 {
            value = "presentCurrent"
            scope = local
            kind = sp
            direction = in
        }
        [
            position = 10816, 9912
            hide_name = True
            size = 97, 20
        ]

        tag Goto8 {
            value = "evseStatus"
            scope = local
            kind = sp
            direction = in
        }
        [
            position = 10808, 9944
            hide_name = True
            size = 68, 20
        ]

        tag Goto9 {
            value = "remainingChargeSeconds"
            scope = local
            kind = sp
            direction = in
        }
        [
            position = 10840, 9976
            hide_name = True
            size = 132, 20
        ]

        tag From11 {
            value = "currentMillis"
            scope = local
            kind = sp
            direction = out
        }
        [
            position = 8704, 9168
            hide_name = True
            size = 69, 20
        ]

        tag Goto11 {
            value = "currentMillis"
            scope = local
            kind = sp
            direction = in
        }
        [
            position = 10448, 10184
            hide_name = True
            size = 65, 20
        ]

        tag Goto12 {
            value = "sendBatt"
            scope = local
            kind = sp
            direction = in
        }
        [
            position = 9288, 9144
            hide_name = True
            size = 60, 20
        ]

        tag Goto13 {
            value = "sendStatus"
            scope = local
            kind = sp
            direction = in
        }
        [
            position = 9344, 9168
            hide_name = True
            size = 60, 20
        ]

        tag Goto14 {
            value = "sendTime"
            scope = local
            kind = sp
            direction = in
        }
        [
            position = 9400, 9192
            hide_name = True
            size = 60, 20
        ]

        tag Goto15 {
            value = "maxChargeVoltage"
            scope = local
            kind = sp
            direction = in
        }
        [
            position = 9344, 9248
            hide_name = True
            size = 94, 20
        ]

        tag Goto16 {
            value = "packSizeKWH"
            scope = local
            kind = sp
            direction = in
        }
        [
            position = 9344, 9288
            hide_name = True
            size = 94, 20
        ]

        tag Goto17 {
            value = "howLongCharge"
            scope = local
            kind = sp
            direction = in
        }
        [
            position = 9416, 9360
            hide_name = True
            size = 92, 20
        ]

        tag Goto18 {
            value = "howLongWeThink"
            scope = local
            kind = sp
            direction = in
        }
        [
            position = 9416, 9424
            hide_name = True
            size = 89, 20
        ]

        tag From15 {
            value = "maxChargeVoltage"
            scope = local
            kind = sp
            direction = out
        }
        [
            position = 10048, 9392
            hide_name = True
            size = 114, 20
        ]

        tag From16 {
            value = "packSizeKWH"
            scope = local
            kind = sp
            direction = out
        }
        [
            position = 10064, 9472
            hide_name = True
            size = 85, 20
        ]

        tag From17 {
            value = "sendBatt"
            scope = local
            kind = sp
            direction = out
        }
        [
            position = 10272, 9312
            rotation = right
            hide_name = True
            size = 60, 20
        ]

        tag From18 {
            value = "sendTime"
            scope = local
            kind = sp
            direction = out
        }
        [
            position = 10272, 9568
            rotation = right
            hide_name = True
            size = 60, 20
        ]

        tag From19 {
            value = "sendStatus"
            scope = local
            kind = sp
            direction = out
        }
        [
            position = 10272, 9840
            rotation = right
            hide_name = True
            size = 70, 20
        ]

        tag Goto19 {
            value = "talkingProtocol"
            scope = local
            kind = sp
            direction = in
        }
        [
            position = 9504, 9480
            hide_name = True
            size = 89, 20
        ]

        tag Goto20 {
            value = "targetVoltage"
            scope = local
            kind = sp
            direction = in
        }
        [
            position = 9504, 9528
            hide_name = True
            size = 96, 20
        ]

        tag Goto21 {
            value = "askingAmps"
            scope = local
            kind = sp
            direction = in
        }
        [
            position = 9488, 9576
            hide_name = True
            size = 67, 20
        ]

        tag Goto22 {
            value = "faults"
            scope = local
            kind = sp
            direction = in
        }
        [
            position = 9488, 9624
            hide_name = True
            size = 60, 20
        ]

        tag Goto23 {
            value = "status"
            scope = local
            kind = sp
            direction = in
        }
        [
            position = 9488, 9672
            hide_name = True
            size = 60, 20
        ]

        tag Goto24 {
            value = "kiloWattHours"
            scope = local
            kind = sp
            direction = in
        }
        [
            position = 9504, 9720
            hide_name = True
            size = 98, 20
        ]

        tag Goto25 {
            value = "currentSeconds"
            scope = local
            kind = sp
            direction = in
        }
        [
            position = 10384, 10224
            hide_name = True
            size = 95, 20
        ]

        tag Goto26 {
            value = "receiveParams"
            scope = local
            kind = sp
            direction = in
        }
        [
            position = 10584, 9512
            rotation = left
            hide_name = True
            size = 80, 20
        ]

        tag Goto27 {
            value = "receiveStatus"
            scope = local
            kind = sp
            direction = in
        }
        [
            position = 10584, 9784
            rotation = left
            hide_name = True
            size = 73, 20
        ]

        tag From20 {
            value = "currentSeconds"
            scope = local
            kind = sp
            direction = out
        }
        [
            position = 8840, 10032
            hide_name = True
            size = 108, 20
        ]

        tag Goto32 {
            value = "remainingChargeMinutes"
            scope = local
            kind = sp
            direction = in
        }
        [
            position = 10832, 10024
            hide_name = True
            size = 132, 20
        ]

        tag From25 {
            value = "disconnection status"
            scope = local
            kind = sp
            direction = out
        }
        [
            position = 9568, 7696
            rotation = right
            hide_name = True
            size = 158, 20
        ]

        tag Goto35 {
            value = "battery voltage"
            scope = local
            kind = sp
            direction = in
        }
        [
            position = 10056, 7992
            hide_name = True
            size = 113, 20
        ]

        tag Goto36 {
            value = "battery soc"
            scope = local
            kind = sp
            direction = in
        }
        [
            position = 10056, 7928
            hide_name = True
            size = 113, 20
        ]

        tag Goto37 {
            value = "IN1"
            scope = local
            kind = sp
            direction = in
        }
        [
            position = 10120, 8160
            hide_name = True
            size = 60, 20
        ]

        tag Goto38 {
            value = "IN2"
            scope = local
            kind = sp
            direction = in
        }
        [
            position = 10120, 8336
            hide_name = True
            size = 60, 20
        ]

        tag Goto39 {
            value = "pp"
            scope = local
            kind = sp
            direction = in
        }
        [
            position = 9824, 8488
            hide_name = True
            size = 60, 20
        ]

        tag Goto40 {
            value = "OUT1"
            scope = local
            kind = sp
            direction = in
        }
        [
            position = 9824, 8616
            hide_name = True
            size = 60, 20
        ]

        tag From47 {
            value = "disconnection status"
            scope = local
            kind = sp
            direction = out
        }
        [
            position = 8560, 7616
            hide_name = True
            size = 158, 20
        ]

        tag From48 {
            value = "present current"
            scope = local
            kind = sp
            direction = out
        }
        [
            position = 8560, 7688
            hide_name = True
            size = 158, 20
        ]

        tag From49 {
            value = "disconnection status"
            scope = local
            kind = sp
            direction = out
        }
        [
            position = 9760, 8064
            hide_name = True
            size = 158, 20
        ]

        junction Junction14 sp
        [
            position = 10320, 10224
        ]

        junction Junction19 sp
        [
            position = 10224, 10216
        ]

        junction Junction20 sp
        [
            position = 9296, 9360
        ]

        junction Junction21 sp
        [
            position = 9312, 9424
        ]

        junction Junction67 pe
        [
            position = 9792, 7832
        ]

        junction Junction68 pe
        [
            position = 9792, 8024
        ]

        junction Junction71 pe
        [
            position = 8648, 8072
        ]

        junction Junction74 pe
        [
            position = 9616, 8696
        ]

        junction Junction77 pe
        [
            position = 8648, 8120
        ]

        junction Junction79 pe
        [
            position = 9568, 8448
        ]

        junction Junction80 pe
        [
            position = 9616, 8936
        ]

        junction Junction81 pe
        [
            position = 9744, 8104
        ]

        junction Junction82 pe
        [
            position = 9480, 8944
        ]

        junction Junction83 pe
        [
            position = 8880, 7760
        ]

        junction Junction84 pe
        [
            position = 8880, 7928
        ]

        junction Junction85 pe
        [
            position = 8648, 8168
        ]

        comment Comment1 START <!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN" "http://www.w3.org/TR/REC-html40/strict.dtd"><html><head><meta name="qrichtext" content="1" /><style type="text/css">p, li { white-space: pre-wrap; }</style></head><body style=" font-family:'Arial'; font-size:12pt; font-weight:400; font-style:normal;"><p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">EVSE side </p><p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">EVSE is designed as a simple signal controlled current source.</p><p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">The source is controlled by the PresentCurrent value</p><p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">comming from the EVSE messages.  </p></body></html> ENDCOMMENT 
        [
            position = 9008, 7680
        ]

        comment Comment2 START <!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN" "http://www.w3.org/TR/REC-html40/strict.dtd"><html><head><meta name="qrichtext" content="1" /><style type="text/css">p, li { white-space: pre-wrap; }</style></head><body style=" font-family:'Arial'; font-size:12pt; font-weight:400; font-style:normal;"><p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">EV side</p><p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">EV is designed as a simple battery.</p><p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">The Charge contactor is closed when the </p><p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">PreCharge process is finished.</p></body></html> ENDCOMMENT 
        [
            position = 9672, 7592
        ]

        comment Comment3 START <!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN" "http://www.w3.org/TR/REC-html40/strict.dtd"><html><head><meta name="qrichtext" content="1" /><style type="text/css">p, li { white-space: pre-wrap; }</style></head><body style=" font-family:'Arial'; font-size:12pt; font-weight:400; font-style:normal;"><p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">DC+</p></body></html> ENDCOMMENT 
        [
            position = 9208, 7840
        ]

        comment Comment4 START <!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN" "http://www.w3.org/TR/REC-html40/strict.dtd"><html><head><meta name="qrichtext" content="1" /><style type="text/css">p, li { white-space: pre-wrap; }</style></head><body style=" font-family:'Arial'; font-size:12pt; font-weight:400; font-style:normal;"><p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">DC-</p></body></html> ENDCOMMENT 
        [
            position = 9208, 7888
        ]

        comment Comment5 START <!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN" "http://www.w3.org/TR/REC-html40/strict.dtd"><html><head><meta name="qrichtext" content="1" /><style type="text/css">p, li { white-space: pre-wrap; }</style></head><body style=" font-family:'Arial'; font-size:12pt; font-weight:400; font-style:normal;"><p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">CS</p></body></html> ENDCOMMENT 
        [
            position = 9216, 8040
        ]

        comment Comment6 START <!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN" "http://www.w3.org/TR/REC-html40/strict.dtd"><html><head><meta name="qrichtext" content="1" /><style type="text/css">p, li { white-space: pre-wrap; }</style></head><body style=" font-family:'Arial'; font-size:12pt; font-weight:400; font-style:normal;"><p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">CP3</p></body></html> ENDCOMMENT 
        [
            position = 9208, 8088
        ]

        comment Comment7 START <!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN" "http://www.w3.org/TR/REC-html40/strict.dtd"><html><head><meta name="qrichtext" content="1" /><style type="text/css">p, li { white-space: pre-wrap; }</style></head><body style=" font-family:'Arial'; font-size:12pt; font-weight:400; font-style:normal;"><p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">PE</p></body></html> ENDCOMMENT 
        [
            position = 9216, 8136
        ]

        comment Comment9 START <!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN" "http://www.w3.org/TR/REC-html40/strict.dtd"><html><head><meta name="qrichtext" content="1" /><style type="text/css">p, li { white-space: pre-wrap; }</style></head><body style=" font-family:'Arial'; font-size:12pt; font-weight:400; font-style:normal;"><p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">CP</p></body></html> ENDCOMMENT 
        [
            position = 9224, 7944
        ]

        comment Comment10 START <!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN" "http://www.w3.org/TR/REC-html40/strict.dtd"><html><head><meta name="qrichtext" content="1" /><style type="text/css">p, li { white-space: pre-wrap; }</style></head><body style=" font-family:'Arial'; font-size:12pt; font-weight:400; font-style:normal;"><p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">CP2 </p></body></html> ENDCOMMENT 
        [
            position = 9208, 7992
        ]

        connect From5 "EV STATUS.EVtalkingProtocol" as Connection2
        connect From3 "CHARGING TIME.EVhowLongCharge" as Connection4
        connect From4 "CHARGING TIME.EVhowLongWeThink" as Connection5
        connect From6 "EV STATUS.EVtargetVoltage" as Connection6
        [
            breakpoints = 10160, 9944
        ]
        connect From7 "EV STATUS.EVaskingAmps" as Connection7
        [
            breakpoints = 10128, 9960
        ]
        connect From10 "EV STATUS.EVkiloWattHours" as Connection23
        [
            breakpoints = 10160, 10064; 10168, 10008
        ]
        connect "EVSE STATUS.EVSEpresentCurrent" Goto7 as Connection27
        connect "EVSE STATUS.EVSEpresentVoltage" Goto6 as Connection28
        [
            breakpoints = 10696, 9888
        ]
        connect "EVSE STATUS.EVSEbChademo10Protocol" Goto5 as Connection29
        [
            breakpoints = 10680, 9880; 10680, 9856
        ]
        connect "EVSE PARAMS.EVSEthresholdVoltage" Goto4 as Connection30
        [
            breakpoints = 10688, 9688; 10696, 9712
        ]
        connect "EVSE PARAMS.EVSEavailCurrent" Goto3 as Connection31
        [
            breakpoints = 10704, 9680
        ]
        connect "EVSE PARAMS.EVSEavailVoltage" Goto2 as Connection32
        connect "EVSE PARAMS.EVSEweldCheck" Goto1 as Connection33
        [
            breakpoints = 10704, 9624; 10704, 9600
        ]
        connect "Unit Delay1.out" Counter1.reset as Connection50
        connect Constant3.out Counter1.en as Connection53
        connect "Advanced C function2.CurrentSeconds" CurrentSeconds.in as Connection76
        connect From9 "EV STATUS.EVstatus" as Connection115
        [
            breakpoints = 10136, 10032; 10136, 9992
        ]
        connect From8 "EV STATUS.EVfaults" as Connection116
        [
            breakpoints = 10120, 9984; 10120, 9976
        ]
        connect From15 "EV - BATTERY SPECS.EVmaxChargeVoltage" as Connection117
        connect From16 "EV - BATTERY SPECS.EVpackSizeKWH" as Connection118
        connect From17 "EV - BATTERY SPECS.event" as Connection119
        connect "Advanced C function2.maxChargeVoltage" Goto15 as Connection121
        [
            breakpoints = 9272, 9480; 9272, 9248
        ]
        connect From18 "CHARGING TIME.event" as Connection129
        connect From19 "EV STATUS.event" as Connection130
        connect "Advanced C function2.packSizeKWH" Goto16 as Connection135
        connect From11 "Advanced C function2.currentMillis" as Connection144
        connect "EVSE PARAMS.rcv_cnt" Goto26 as Connection148
        connect "EVSE STATUS.rcv_cnt" Goto27 as Connection149
        connect SIreceiveParams1.out "Advanced C function2.receiveParams" as Connection152
        [
            breakpoints = 8944, 9400; 8944, 9480; 8952, 9480
        ]
        connect SIreceiveStatus1.out "Advanced C function2.receiveStatus" as Connection153
        [
            breakpoints = 8928, 9392; 8928, 9496; 8936, 9496
        ]
        connect SIweldCheck1.out "Advanced C function2.weldCheck" as Connection154
        [
            breakpoints = 8912, 9472; 8912, 9512; 8912, 9512; 9000, 9512
        ]
        connect SIavailVoltage1.out "Advanced C function2.availVoltage" as Connection157
        connect SIavailCurrent1.out "Advanced C function2.availCurrent" as Connection158
        [
            breakpoints = 8912, 9592; 8912, 9552
        ]
        connect SIthresholdVoltage1.out "Advanced C function2.thresholdVoltage" as Connection159
        [
            breakpoints = 8920, 9640; 8920, 9560; 8944, 9560
        ]
        connect SIbChademo10Protocol1.out "Advanced C function2.bChademo10Protocol" as Connection160
        [
            breakpoints = 8928, 9720; 8928, 9576; 8944, 9576
        ]
        connect SIpresentVoltage1.out "Advanced C function2.presentVoltage" as Connection161
        [
            breakpoints = 8936, 9784; 8936, 9592; 8984, 9592
        ]
        connect SIpresentCurrent1.out "Advanced C function2.presentCurrent" as Connection162
        [
            breakpoints = 8944, 9832; 8944, 9608; 9000, 9608
        ]
        connect SIremainingChargeSeconds1.out "Advanced C function2.remainingChargeSeconds" as Connection163
        [
            breakpoints = 8968, 9952
        ]
        connect SIevseStatus1.out "Advanced C function2.evseStatus" as Connection164
        [
            breakpoints = 8952, 9896; 8952, 9624; 8976, 9624; 9024, 9624
        ]
        connect "C function1.out_seconds" Junction14 as Connection165
        connect Junction14 Goto25 as Connection166
        connect currentSeconds.in Junction14 as Connection167
        connect Counter1.out Junction19 as Connection192
        connect Junction19 "C function1.in" as Connection193
        connect counter.in Junction19 as Connection194
        connect "C function1.rst" "Unit Delay1.in" as Connection196
        connect "C function1.out_millis" Goto11 as Connection197
        connect From20 "Advanced C function2.currentSeconds" as Connection205
        [
            breakpoints = 8976, 10024
        ]
        connect SIbChademoRequest1.out "Advanced C function2.bChademoRequest" as Connection210
        [
            breakpoints = 8984, 10072
        ]
        connect SIvoltage1.out "Advanced C function2.SIvoltage" as Connection211
        [
            breakpoints = 8992, 10104
        ]
        connect SIcurrent1.out "Advanced C function2.SIcurrent" as Connection212
        [
            breakpoints = 9000, 10160
        ]
        connect SIkwh1.out "Advanced C function2.SIkwh" as Connection213
        [
            breakpoints = 9008, 10232
        ]
        connect "Advanced C function2.sendBatt" Goto12 as Connection216
        [
            breakpoints = 9208, 9408
        ]
        connect "Advanced C function2.sendStatus" Goto13 as Connection217
        [
            breakpoints = 9224, 9424; 9304, 9168
        ]
        connect "Advanced C function2.sendTime" Goto14 as Connection218
        [
            breakpoints = 9240, 9424; 9312, 9192
        ]
        connect "Advanced C function2.howLongCharge" Junction20 as Connection221
        [
            breakpoints = 9296, 9400
        ]
        connect Junction20 Goto17 as Connection222
        [
            breakpoints = 9296, 9360
        ]
        connect howLongCharge.in Junction20 as Connection223
        [
            breakpoints = 9296, 9344
        ]
        connect "Advanced C function2.howLongWeThink" Junction21 as Connection224
        [
            breakpoints = 9312, 9472
        ]
        connect Junction21 Goto18 as Connection225
        [
            breakpoints = 9336, 9424
        ]
        connect howLongWeThink.in Junction21 as Connection226
        [
            breakpoints = 9312, 9400
        ]
        connect "Advanced C function2.talkingProtocol" Goto19 as Connection227
        [
            breakpoints = 9328, 9536; 9344, 9480
        ]
        connect "Advanced C function2.targetVoltage" Goto20 as Connection228
        [
            breakpoints = 9336, 9560; 9344, 9528
        ]
        connect "Advanced C function2.askingAmps" Goto21 as Connection229
        connect "Advanced C function2.faults" Goto22 as Connection230
        [
            breakpoints = 9432, 9592; 9440, 9624
        ]
        connect "Advanced C function2.status" Goto23 as Connection231
        [
            breakpoints = 9408, 9608; 9424, 9672
        ]
        connect "Advanced C function2.kiloWattHours" Goto24 as Connection232
        [
            breakpoints = 9384, 9640; 9392, 9720
        ]
        connect "Advanced C function2.chademoState" chademoState.in as Connection233
        [
            breakpoints = 9368, 9648; 9472, 9776
        ]
        connect "Advanced C function2.insertionTime" insertionTime.in as Connection234
        [
            breakpoints = 9352, 9664; 9368, 9832
        ]
        connect "Advanced C function2.bChademoMode" bChademoMode.in as Connection235
        [
            breakpoints = 9336, 9680; 9360, 9896
        ]
        connect "Advanced C function2.bChademoRequestOutput" bChademoRequest.in as Connection237
        [
            breakpoints = 9312, 9688; 9320, 9688; 9344, 9960
        ]
        connect "Advanced C function2.bChademoSendRequestsOutput" bChademoSendRequests.in as Connection238
        [
            breakpoints = 9280, 9736; 9336, 10024
        ]
        connect "Advanced C function2.out1111" out1.in as Connection239
        [
            breakpoints = 9296, 9712; 9320, 10000; 9640, 10000
        ]
        connect "Advanced C function2.out2222" out2.in as Connection240
        [
            breakpoints = 9256, 9752; 9568, 10072
        ]
        connect "Advanced C function2.out3333" out3.in as Connection241
        [
            breakpoints = 9240, 9760; 9280, 10136
        ]
        connect "Advanced C function2.ERRORdoP" ERRORdoP.in as Connection242
        [
            breakpoints = 9216, 9768
        ]
        connect "Advanced C function2.ERRORhandle" ERRORhandle.in as Connection243
        [
            breakpoints = 9200, 9784
        ]
        connect "EVSE STATUS.EVSEstatus" Goto8 as Connection628
        [
            breakpoints = 10696, 9928; 10704, 9928; 10704, 9944
        ]
        connect "EVSE STATUS.EVSEremainingChargeSeconds" Goto9 as Connection629
        [
            breakpoints = 10688, 9952; 10696, 9976
        ]
        connect "EVSE STATUS.EVSEremaningChargeMinutes" Goto32 as Connection630
        [
            breakpoints = 10680, 9968; 10688, 10024; 10760, 10024
        ]
        connect SIremainingChargeMinutes1.out "Advanced C function2.remainingChargeMinutes" as Connection631
        [
            breakpoints = 9024, 10312
        ]
        connect SIreceiveParams.out Subsystem.SIreceiveParams as Connection636
        [
            breakpoints = 7456, 7520; 7456, 7648
        ]
        connect SIreceiveStatus.out Subsystem.SIreceiveStatus as Connection637
        [
            breakpoints = 7432, 7608; 7432, 7696; 7432, 7696; 7432, 7872
        ]
        connect SIweldCheck.out Subsystem.SIweldCheck as Connection638
        [
            breakpoints = 7408, 7680; 7408, 7760; 7408, 7760; 7408, 7904
        ]
        connect SIavailVoltage.out Subsystem.SIavailVoltage as Connection639
        [
            breakpoints = 7384, 7720; 7384, 7808; 7384, 7808; 7384, 7936
        ]
        connect SIavailCurrent.out Subsystem.SIavailCurrent as Connection640
        [
            breakpoints = 7360, 7808; 7360, 7872
        ]
        connect SIthresholdVoltage.out Subsystem.SIthresholdVoltage as Connection645
        [
            breakpoints = 7336, 7864; 7336, 7920; 7336, 7920; 7336, 8000
        ]
        connect SIbChademo10Protocol.out Subsystem.SIbChademo10Protocol as Connection646
        [
            breakpoints = 7312, 7944; 7312, 7984; 7312, 7984; 7312, 8032
        ]
        connect SIpresentVoltage.out Subsystem.SIpresentVoltage as Connection647
        [
            breakpoints = 7288, 8000; 7288, 8032
        ]
        connect SIpresentCurrent.out Subsystem.SIpresentCurrent as Connection648
        [
            breakpoints = 7264, 8056; 7264, 8096; 7264, 8096
        ]
        connect SIevseStatus.out Subsystem.SIevseStatus as Connection656
        [
            breakpoints = 7240, 8120; 7240, 8128
        ]
        connect SIremainingChargeSeconds.out Subsystem.SIremainingChargeSeconds as Connection657
        [
            breakpoints = 7240, 8168; 7240, 8160
        ]
        connect SIbChademoRequest.out Subsystem.bChademoRequestt as Connection658
        [
            breakpoints = 7240, 8248; 7240, 8192
        ]
        connect SIvoltage.out Subsystem.voltage as Connection659
        [
            breakpoints = 7248, 8320; 7256, 8320; 7272, 8224
        ]
        connect SIcurrent.out Subsystem.current as Connection660
        [
            breakpoints = 7272, 8384; 7280, 8256
        ]
        connect SIkwh.out Subsystem.kwh as Connection661
        [
            breakpoints = 7296, 8440; 7312, 8288
        ]
        connect SIremainingChargeMinutes.out Subsystem.SIremainingChargeMinutes as Connection662
        [
            breakpoints = 7320, 8512; 7344, 8320
        ]
        connect From25 "EV contactor.ctrl_in" as Connection490
        [
            breakpoints = 9568, 7776; 9568, 7784
        ]
        connect "EV contactor.a_out" "battery current.p_node" as Connection491
        connect "battery current.n_node" Junction67 as Connection493
        connect Junction67 Battery.p_node as Connection494
        connect Battery.n_node Junction68 as Connection496
        connect Junction68 "EV contactor.b_out" as Connection497
        connect "battery voltage.n_node" Junction68 as Connection498
        connect Goto35 "battery voltage.out" as Connection500
        connect Goto36 Battery.out as Connection503
        connect "+V DC.n_node" gnd2.node as Connection676
        connect "+V DC.p_node" d1.a_in as Connection690
        [
            breakpoints = 8704, 7976
        ]
        connect "battery voltage.p_node" Junction67 as Connection697
        [
            breakpoints = 9792, 7856
        ]
        connect d2.a_in Junction71 as Connection701
        [
            breakpoints = 8648, 8032
        ]
        connect R1.p_node Junction71 as Connection703
        connect "current of d1.out" Goto37 as Connection707
        connect gnd3.node "current of d1.p_node" as Connection709
        connect R5.n_node "current of d1.n_node" as Connection710
        [
            breakpoints = 9880, 8112
        ]
        connect "current of d2.out" Goto38 as Connection712
        [
            breakpoints = 10080, 8336
        ]
        connect R6.n_node "current of d2.p_node" as Connection716
        [
            breakpoints = 9880, 8392
        ]
        connect Constant4.out "Signal switch1.in" as Connection732
        connect Constant5.out "Signal switch1.in1" as Connection733
        connect "Signal switch1.out" Goto39 as Connection734
        connect R4.n_node "(not)charge.p_node" as Connection735
        [
            breakpoints = 9568, 8280
        ]
        connect Constant6.out "Signal switch2.in" as Connection739
        connect Constant7.out "Signal switch2.in1" as Connection740
        connect "Signal switch2.out" Goto40 as Connection741
        connect "(not)charge.out" "Signal switch2.in2" as Connection742
        [
            breakpoints = 9600, 8344; 9600, 8552; 9720, 8568
        ]
        connect "+V DC2.n_node" Junction74 as Connection750
        connect Junction71 Junction77 as Connection759
        connect "+V DC1.n_node" Junction77 as Connection761
        connect R3.n_node "(dis)connection.n_node" as Connection766
        connect Junction74 Junction79 as Connection767
        [
            breakpoints = 9616, 8696; 9616, 8632; 9568, 8632; 9568, 8448
        ]
        connect Junction79 "(not)charge.n_node" as Connection768
        connect "(dis)connection.p_node" Junction79 as Connection769
        [
            breakpoints = 9632, 8392
        ]
        connect "(dis)connection.out" "Signal switch1.in2" as Connection771
        [
            breakpoints = 9656, 8248; 9664, 8416; 9720, 8424
        ]
        connect "+V DC2.p_node" Battery1.p_node as Connection774
        [
            breakpoints = 9480, 8688
        ]
        connect gnd6.node Junction80 as Connection775
        connect Junction80 Junction74 as Connection776
        [
            breakpoints = 9616, 8832; 9616, 8704
        ]
        connect "Signal switch3.out" Isp1.in as Connection528
        connect Constant8.out "Signal switch3.in" as Connection530
        connect From47 "Signal switch3.in2" as Connection548
        connect From48 "Signal switch3.in1" as Connection558
        connect "+V DC1.p_node" "(not)ready.n_node" as Connection789
        connect "(not)ready.p_node" R2.p_node as Connection790
        connect "Charging cable.out" SW.ctrl_in as Connection796
        connect SW.out_1 "EV contactor.a_in" as Connection797
        [
            breakpoints = 9488, 7880; 9504, 7832
        ]
        connect SW.out_2 "EV contactor.b_in" as Connection798
        [
            breakpoints = 9488, 7936; 9504, 8024
        ]
        connect R5.p_node Junction81 as Connection799
        connect Junction81 "current of d2.n_node" as Connection800
        [
            breakpoints = 9744, 8112; 9744, 8112; 9744, 8112; 9744, 8264; 9880, 8272
        ]
        connect SW.out_3 Junction81 as Connection801
        [
            breakpoints = 9464, 8096; 9464, 8104
        ]
        connect SW.out_4 R6.p_node as Connection802
        [
            breakpoints = 9440, 8040; 9448, 8128; 9704, 8152; 9728, 8392
        ]
        connect SW.out_5 R3.p_node as Connection803
        [
            breakpoints = 9416, 8096; 9464, 8168
        ]
        connect SW.out_6 R4.p_node as Connection804
        [
            breakpoints = 9392, 8152; 9456, 8272
        ]
        connect Battery1.n_node Junction82 as Connection805
        connect Junction82 Junction80 as Connection806
        [
            breakpoints = 9480, 8936; 9480, 8944; 9520, 8944
        ]
        connect SW.out_7 Junction82 as Connection807
        [
            breakpoints = 9360, 8176
        ]
        connect R8.p_node Junction83 as Connection808
        [
            breakpoints = 8880, 7800; 8880, 7800
        ]
        connect Junction83 Isp1.p_node as Connection809
        [
            breakpoints = 8880, 7760; 8880, 7760
        ]
        connect SW.in_1 Junction83 as Connection810
        [
            breakpoints = 8960, 7832; 8960, 7760
        ]
        connect Isp1.n_node Junction84 as Connection811
        [
            breakpoints = 8792, 7928
        ]
        connect Junction84 R8.n_node as Connection812
        [
            breakpoints = 8880, 7928
        ]
        connect SW.in_2 Junction84 as Connection813
        connect d1.a_out SW.in_3 as Connection814
        connect d2.a_out SW.in_4 as Connection815
        connect R1.n_node SW.in_5 as Connection816
        connect R2.n_node SW.in_6 as Connection817
        connect Junction77 Junction85 as Connection818
        [
            breakpoints = 8648, 8120
        ]
        connect Junction85 gnd4.node as Connection819
        [
            breakpoints = 8648, 8168
        ]
        connect SW.in_7 Junction85 as Connection820
    }

    logically_deleted {
        "EVSE PARAMS"
        "EV - BATTERY SPECS"
        "CAN Setup1"
        "EVSE STATUS"
        "CHARGING TIME"
        "EV STATUS"
        "Advanced C function2"
        "C function1"
        "Counter1"
        "Unit Delay1"
        "Constant3"
        "CurrentSeconds"
        "SIreceiveParams1"
        "SIreceiveStatus1"
        "SIweldCheck1"
        "SIavailVoltage1"
        "SIavailCurrent1"
        "SIthresholdVoltage1"
        "SIbChademo10Protocol1"
        "SIpresentVoltage1"
        "SIpresentCurrent1"
        "SIevseStatus1"
        "SIremainingChargeSeconds1"
        "currentSeconds"
        "chademoState"
        "howLongCharge"
        "howLongWeThink"
        "insertionTime"
        "bChademoMode"
        "bChademoRequest"
        "out1"
        "counter"
        "bChademoSendRequests"
        "SIbChademoRequest1"
        "out2"
        "out3"
        "SIvoltage1"
        "SIcurrent1"
        "SIkwh1"
        "ERRORdoP"
        "ERRORhandle"
        "SIremainingChargeMinutes1"
        "Charging cable"
        "SW"
        "Battery"
        "EV contactor"
        "battery voltage"
        "battery current"
        "+V DC"
        "gnd2"
        "R5"
        "gnd3"
        "R6"
        "d1"
        "d2"
        "gnd4"
        "R1"
        "R3"
        "R2"
        "R4"
        "+V DC1"
        "current of d1"
        "current of d2"
        "Signal switch1"
        "gnd6"
        "(not)charge"
        "Constant4"
        "Constant5"
        "Signal switch2"
        "Constant6"
        "Constant7"
        "+V DC2"
        "Battery1"
        "(dis)connection"
        "(not)ready"
        "Isp1"
        "Signal switch3"
        "Constant8"
        "R8"
        "S1"
        "S2"
        "From3"
        "From4"
        "From5"
        "From6"
        "From7"
        "From8"
        "From9"
        "From10"
        "Goto1"
        "Goto2"
        "Goto3"
        "Goto4"
        "Goto5"
        "Goto6"
        "Goto7"
        "Goto8"
        "Goto9"
        "From11"
        "Goto11"
        "Goto12"
        "Goto13"
        "Goto14"
        "Goto15"
        "Goto16"
        "Goto17"
        "Goto18"
        "From15"
        "From16"
        "From17"
        "From18"
        "From19"
        "Goto19"
        "Goto20"
        "Goto21"
        "Goto22"
        "Goto23"
        "Goto24"
        "Goto25"
        "Goto26"
        "Goto27"
        "From20"
        "Goto32"
        "From25"
        "Goto35"
        "Goto36"
        "Goto37"
        "Goto38"
        "Goto39"
        "Goto40"
        "From47"
        "From48"
        "From49"
        "Junction14"
        "Junction19"
        "Junction20"
        "Junction21"
        "Junction67"
        "Junction68"
        "Junction71"
        "Junction74"
        "Junction77"
        "Junction79"
        "Junction80"
        "Junction81"
        "Junction82"
        "Junction83"
        "Junction84"
        "Junction85"
        "Comment3"
        "Comment4"
        "Comment5"
        "Comment6"
        "Comment7"
        "Comment9"
        "Comment10"
        "Connection2"
        "Connection4"
        "Connection5"
        "Connection6"
        "Connection7"
        "Connection23"
        "Connection27"
        "Connection28"
        "Connection29"
        "Connection30"
        "Connection31"
        "Connection32"
        "Connection33"
        "Connection50"
        "Connection53"
        "Connection76"
        "Connection115"
        "Connection116"
        "Connection117"
        "Connection118"
        "Connection119"
        "Connection121"
        "Connection129"
        "Connection130"
        "Connection135"
        "Connection144"
        "Connection148"
        "Connection149"
        "Connection152"
        "Connection153"
        "Connection154"
        "Connection157"
        "Connection158"
        "Connection159"
        "Connection160"
        "Connection161"
        "Connection162"
        "Connection163"
        "Connection164"
        "Connection165"
        "Connection166"
        "Connection167"
        "Connection192"
        "Connection193"
        "Connection194"
        "Connection196"
        "Connection197"
        "Connection205"
        "Connection210"
        "Connection211"
        "Connection212"
        "Connection213"
        "Connection216"
        "Connection217"
        "Connection218"
        "Connection221"
        "Connection222"
        "Connection223"
        "Connection224"
        "Connection225"
        "Connection226"
        "Connection227"
        "Connection228"
        "Connection229"
        "Connection230"
        "Connection231"
        "Connection232"
        "Connection233"
        "Connection234"
        "Connection235"
        "Connection237"
        "Connection238"
        "Connection239"
        "Connection240"
        "Connection241"
        "Connection242"
        "Connection243"
        "Connection628"
        "Connection629"
        "Connection630"
        "Connection631"
        "Connection490"
        "Connection491"
        "Connection493"
        "Connection494"
        "Connection496"
        "Connection497"
        "Connection498"
        "Connection500"
        "Connection503"
        "Connection676"
        "Connection690"
        "Connection697"
        "Connection701"
        "Connection703"
        "Connection707"
        "Connection709"
        "Connection710"
        "Connection712"
        "Connection716"
        "Connection732"
        "Connection733"
        "Connection734"
        "Connection735"
        "Connection739"
        "Connection740"
        "Connection741"
        "Connection742"
        "Connection750"
        "Connection759"
        "Connection761"
        "Connection766"
        "Connection767"
        "Connection768"
        "Connection769"
        "Connection771"
        "Connection774"
        "Connection775"
        "Connection776"
        "Connection528"
        "Connection530"
        "Connection548"
        "Connection558"
        "Connection789"
        "Connection790"
        "Connection796"
        "Connection797"
        "Connection798"
        "Connection799"
        "Connection800"
        "Connection801"
        "Connection802"
        "Connection803"
        "Connection804"
        "Connection805"
        "Connection806"
        "Connection807"
        "Connection808"
        "Connection809"
        "Connection810"
        "Connection811"
        "Connection812"
        "Connection813"
        "Connection814"
        "Connection815"
        "Connection816"
        "Connection817"
        "Connection818"
        "Connection819"
        "Connection820"
    }

    default {
        "core/Advanced C function" {
            input_terminals = "real in;"
            input_terminals_show_labels = "False;"
            input_terminals_feedthrough = "True;"
            input_terminals_dimensions = "inherit;"
            output_terminals = "real out;"
            output_terminals_show_labels = "False;"
            output_terminals_feedthrough = "True;"
            output_terminals_dimensions = "inherit;"
            output_fnc = ""
            update_fnc = ""
            init_fnc = ""
            global_variables = ""
            parameters = ""
            library_load_type = "Compile-time load"
            dll_file_path = ""
            dll_file_path_full = ""
            arm_a9_file_path = ""
            arm_a9_file_path_full = ""
            arm_a53_file_path = ""
            arm_a53_file_path_full = ""
            h_file_path = ""
            h_file_path_full = ""
            add_src_path = ""
            add_src_path_full = ""
            convert_to_relative_dll = "True"
            convert_to_relative_a = "True"
            convert_to_relative_src = "True"
            arb_defs = ""
            add_macros = ""
            skip_pre_cmpl_check = "False"
            generate_for_hil = "True"
            execution_rate = "inherit"
            _supported_platforms = "[\'generic\']"
            refresh = "refresh"
        }

        "core/C function" {
            input_terminals = "real in;"
            input_terminals_show_labels = "False;"
            input_terminals_feedthrough = "True;"
            input_terminals_dimensions = "inherit;"
            output_terminals = "real out;"
            output_terminals_show_labels = "False;"
            output_terminals_feedthrough = "True;"
            output_terminals_dimensions = "inherit;"
            output_fnc = ""
            update_fnc = ""
            init_fnc = ""
            global_variables = ""
            parameters = ""
            execution_rate = "inherit"
        }

        "core/CAN Setup" {
            can1_cofig_method = "Automatic"
            can1_baud_rate = "50000"
            can1_cd = "0"
            can1_ts1 = "0"
            can1_ts2 = "0"
            can1_sjw = "1"
            can1_er = "10e-3"
            can2_cofig_method = "Automatic"
            can2_baud_rate = "50000"
            can2_cd = "0"
            can2_ts1 = "0"
            can2_ts2 = "0"
            can2_sjw = "1"
            can2_er = "10e-3"
            hil_id = "0"
            calc_values = "{\'CAN1\': {\'cd_calc\': \'1\', \'ts1_calc\': \'1\', \'ts2_calc\': \'1\', \'sjw_calc\': \'1\'}, \'CAN2\': {\'cd_calc\': \'1\', \'ts1_calc\': \'1\', \'ts2_calc\': \'1\', \'sjw_calc\': \'1\'}, 
            \'send_num\': 0,
            \'send_buff_len\': 0,
            \'receive_num\': 0,
            \'receive_buff_len\': 0,}"
            execution_rate = "100e-6"
            hil_device_id_combo_values = "[]"
            saved_hil_device_config = ""
        }

        "core/Constant" {
            value = "1"
            signal_type = "real"
            execution_rate = "100e-6"
            _tunable = "False"
        }

        "core/Probe" {
            signal_access = "inherit"
            addr = "0"
            override_signal_name = "False"
            signal_name = ""
            signal_type = "generic"
            streaming_en = "False"
            streaming_er_idx = "0"
            execution_rate = "inherit"
        }

        "core/Resistor" {
            resistance = "1"
            param_set = ""
        }

        "core/SCADA Input" {
            addr = "0"
            format = "real"
            override_signal_name = "False"
            signal_name = ""
            signal_type = "real"
            min = "-1e6"
            max = "1e6"
            def_value = "0"
            unit = " "
            execution_rate = "100e-6"
        }

        "core/Signal switch" {
            criterion = "ctrl > threshold"
            threshold = "0.5"
            execution_rate = "inherit"
        }

        "core/Unit Delay" {
            init_value = "0"
            signal_out_type = "inherit"
            execution_rate = "inherit"
        }

        "core/Voltage Source" {
            sig_input = "False"
            type = "signal generator"
            param_set = "1phase"
            parent_label = ""
            addr = "0"
            spc_nb = "0"
            execution_rate = "100e-6"
            cpd_visible = "True"
            enable_snb = "False"
            snb_type = "R2"
            R2 = "0.0"
            L1 = "0.1"
            override_signal_name = "False"
            signal_name = ""
            init_source_nature = "Constant"
            init_const_value = "0.0"
            init_rms_value = "0.0"
            init_frequency = "50.0"
            init_phase = "0.0"
        }

        "core/Battery" {
            signal_access = "inherit"
            sig_output = "False"
            lut = "False"
            battery_type = "Lead-Acid"
            nominal_voltage = "12.0"
            capacity = "1.2"
            initial_soc = "100.0"
            execution_rate = "100e-6"
            Ke_full = "108.0"
            Kdisc_I = "5.0"
            R_series = "0.25"
            Kq_nom = "50.0"
            Kq_exp = "0.9"
            Ke_exp = "102.5"
            preview = "Preview SOC Curve"
        }

        "core/CAN Bus Receive" {
            hil_id = "0"
            db_messages = "[]"
            name = "CAN message"
            can_controller = "CAN1"
            data_input = "Dialog window"
            file_label = "Configuration file"
            file_path = "Configuration file"
            choose_message_values = "[]"
            choose_message = ""
            identifier_type = "11 bit"
            identifier_value = "100"
            data_length = "1"
            signals = "[]"
            signal_names_dict = "{}"
            execution_rate = "100e-6"
            _supported_platforms = "[\'hil\']"
        }

        "core/CAN Bus Send" {
            hil_id = "0"
            db_messages = "[]"
            name = "CAN message"
            can_controller = "CAN1"
            data_input = "Dialog window"
            file_label = "Configuration file"
            file_path = "Configuration file"
            choose_message_values = "[]"
            choose_message = ""
            identifier_type = "11 bit"
            identifier_value = "100"
            data_length = "1"
            transmit_type = "{\'On event\': True, \'On timer\': False}"
            transmit_period = "100"
            signals = "[]"
            signal_names_dict = "{}"
            _supported_platforms = "[\'hil\']"
        }

        "core/Counter" {
            ext_reset = "level"
            init_val = "0"
            state_type = "real"
            execution_rate = "inherit"
        }

        "core/Current Measurement" {
            signal_access = "inherit"
            bw_limit = "False"
            frequency = "10e3"
            comparator_enable = "False"
            operator = "greater"
            threshold = "0"
            cmp_abs_value = "False"
            feed_forward = "false"
            sig_output = "False"
            sig_output_filt_and_full_bw = "False"
            execution_rate = "100e-6"
            addr = "0"
            nd_msr_estimation = "false"
            dev_cpl_msr = "false"
            host_device = "0"
            output_to_device = "0"
            dev_cpl_index = "0"
            dev_cpl_var_nb = "0"
            visible = "True"
            override_signal_name = "False"
            signal_name = ""
        }

        "core/Double Pole Single Throw Contactor" {
            signal_access = "inherit"
            ctrl_src = "Digital input"
            Sa = "1"
            Sa_logic = "active high"
            enable_fb_out = "False"
            fb_out_type = "real"
            execution_rate = "inherit"
            initial_state = "off"
            on_delay = "0"
            off_delay = "0"
        }

        "core/Multi Pole Single Throw Contactor" {
            signal_access = "inherit"
            ctrl_src = "Digital input"
            Sa = "1"
            Sa_logic = "active high"
            enable_fb_out = "False"
            fb_out_type = "real"
            execution_rate = "inherit"
            initial_state = "off"
            on_delay = "0"
            off_delay = "0"
            num_of_phases = "4"
        }

        "core/Signal Controlled Current Source" {
            execution_rate = "inherit"
        }

        "core/Single Pole Single Throw Contactor" {
            signal_access = "inherit"
            ctrl_src = "Digital input"
            Sa = "1"
            Sa_logic = "active high"
            enable_fb_out = "False"
            fb_out_type = "real"
            execution_rate = "inherit"
            initial_state = "off"
            on_delay = "0"
            off_delay = "0"
            switching = "any current"
            hide_int_meas = "False"
        }

        "core/Voltage Measurement" {
            signal_access = "inherit"
            bw_limit = "False"
            frequency = "10e3"
            comparator_enable = "False"
            operator = "greater"
            threshold = "0"
            cmp_abs_value = "False"
            feed_forward = "false"
            sig_output = "False"
            sig_output_filt_and_full_bw = "False"
            execution_rate = "100e-6"
            addr = "0"
            nd_msr_estimation = "false"
            dev_cpl_msr = "false"
            host_device = "0"
            output_to_device = "0"
            dev_cpl_index = "0"
            dev_cpl_var_nb = "0"
            visible = "True"
            override_signal_name = "False"
            signal_name = ""
        }
    }

    CODE model_init
        # Numpy module is imported as 'np'
        # Scipy module is imported as 'sp'
        # The Schematic API is imported as 'mdl'
        # To get the model file path, use 'mdl.get_model_file_path()'
        # To print information to the console, use info()
        
        # Signal Processing time step
        Ts = 100e-6;
        
        # Voltage accuracy is used in PreCharge state. The PreCharge is complete
        # when EVSE voltage is equal (with some deviation) to the battery voltage before closing the
        # charge contactor. The deviation is defined as voltage_accuracy in %
        
        
        #voltage_accuracy = 5  # in %
    ENDCODE
}
